{"file_contents":{"design_guidelines.md":{"content":"# Archer Design Guidelines\n\n## Design Approach\n**System**: Shadcn-inspired minimalist design with Apple Human Interface Guidelines influences\n**Rationale**: Educational platform requiring clarity, functionality, and sophisticated simplicity. Black and white aesthetic with frosted glass effects creates a professional, distraction-free learning environment.\n\n## Core Design Principles\n- **Extreme Minimalism**: Every element serves a clear purpose\n- **Monochromatic Palette**: Black, white, and grayscale only\n- **Glassmorphism**: Subtle frosted glass effects for depth and hierarchy\n- **Functional Clarity**: Information architecture over decoration\n\n## Typography\n**Primary Font**: Inter (Google Fonts)\n- Headings: 600-700 weight, tight tracking (-0.02em)\n- Body: 400-500 weight, comfortable line height (1.6)\n- Labels/UI: 500 weight, small caps for emphasis\n\n**Hierarchy**:\n- Page Titles: text-3xl/text-4xl font-semibold\n- Section Headers: text-xl/text-2xl font-semibold\n- Card Titles: text-lg font-medium\n- Body Text: text-base font-normal\n- Secondary Text: text-sm text-gray-600\n- Captions: text-xs text-gray-500\n\n## Layout System\n**Spacing Units**: Tailwind 2, 4, 6, 8, 12, 16\n- Component padding: p-6 to p-8\n- Section spacing: space-y-6 or space-y-8\n- Card gaps: gap-4 or gap-6\n- Page margins: max-w-7xl mx-auto px-6\n\n**Grid Structure**:\n- Admin panels: Two-column split (sidebar + main content)\n- Content cards: Grid with responsive columns (grid-cols-1 md:grid-cols-2 lg:grid-cols-3)\n- Forms: Single column, max-w-md centered\n\n## Component Library\n\n### Navigation\n- **Top Bar**: Fixed header with frosted glass (backdrop-blur-xl bg-white/80 border-b border-gray-200)\n- **Admin Sidebar**: Left-aligned navigation with subtle hover states\n- **Breadcrumbs**: text-sm with slash separators for deep navigation\n\n### Cards & Containers\n- **Glass Cards**: Subtle backdrop-blur-md bg-white/60 with border border-gray-200/50\n- **Content Cards**: White background with shadow-sm hover:shadow-md transition\n- **Nested Containers**: border-l-2 border-gray-200 pl-4 for hierarchy\n\n### Buttons\n- **Primary**: Black background (bg-black text-white) with subtle scale on hover\n- **Secondary**: White with border (bg-white border-2 border-black)\n- **Ghost**: Transparent with hover:bg-gray-100\n- **On Glass**: backdrop-blur-lg bg-black/20 text-white (no hover/active states)\n- All buttons: rounded-lg px-6 py-2.5 font-medium\n\n### Forms\n- **Input Fields**: border-2 border-gray-200 rounded-lg px-4 py-2.5 focus:border-black transition\n- **Labels**: text-sm font-medium mb-2 block\n- **Validation**: Red text (text-red-600) below inputs for errors\n\n### Data Display\n- **Tables**: Minimal borders, alternating row backgrounds (even:bg-gray-50)\n- **Lists**: Clean separation with border-b, generous padding (py-4)\n- **Status Badges**: Small rounded pills (px-3 py-1 rounded-full text-xs font-medium)\n\n### Content Viewers\n- **Video Player**: Embedded iframe with border-0, aspect-video container\n- **PDF Viewer**: Full-height iframe with subtle border\n- **Quiz Cards**: White cards with radio buttons, clear option spacing (space-y-3)\n\n### Overlays\n- **Modals**: Centered with backdrop-blur-sm bg-black/40 overlay\n- **Dropdowns**: Shadow-lg with rounded-lg, subtle animation (scale-95 to scale-100)\n\n## Glassmorphism Implementation\n- **Header/Navbar**: backdrop-blur-xl bg-white/80\n- **Floating Panels**: backdrop-blur-md bg-white/60\n- **Overlays**: backdrop-blur-sm bg-black/40\n- Always pair with subtle borders for definition\n\n## Animations\n**Minimal & Purposeful**:\n- Transitions: transition-all duration-200 ease-in-out\n- Hover states: Scale (scale-105) or shadow changes only\n- Page transitions: Simple fade-in\n- Loading states: Subtle pulse animation\n**Avoid**: Complex scroll effects, carousels, excessive motion\n\n## Page-Specific Layouts\n\n### Login Page\n- Centered card (max-w-md) with frosted glass effect\n- Logo/title at top, form fields with generous spacing\n- Clear error messaging below inputs\n\n### User Dashboard\n- Grid of subject cards (3 columns on desktop)\n- Each card shows subject name, chapter count, progress indicator\n- Click to expand chapters inline or navigate\n\n### Chapter View\n- List layout with video/PDF/quiz sections clearly separated\n- Each content type has distinct visual treatment\n- Locked content indicated with opacity and lock icon\n\n### Admin Dashboard\n- Two-column: Left sidebar (navigation), right content area\n- Tabs for different management sections (Users, Subjects, Content)\n- Tables with inline editing capabilities\n- Action buttons aligned right\n\n### Content Management\n- Form-based interface with clear sections\n- Preview pane for added content\n- Drag-and-drop ordering where applicable\n\n## Security Visual Indicators\n- **Expired Users**: Red badge, grayed out in lists\n- **Protected Content**: Lock icon, reduced opacity\n- **Admin-Only**: Subtle badge or border accent\n\n## Accessibility\n- High contrast black/white ensures readability\n- Focus states: 2px black outline with offset\n- Clear button text, no icon-only actions\n- Proper heading hierarchy (h1 → h2 → h3)\n\n## Responsive Behavior\n- **Desktop**: Full multi-column layouts, sidebar visible\n- **Tablet**: Collapsible sidebar, 2-column grids\n- **Mobile**: Single column, hamburger menu, stacked cards\n\nNo images required for this application - focus is on clean, functional interface with data and content display.","size_bytes":5406},"client/src/components/examples/UserManagement.tsx":{"content":"import UserManagement from '../UserManagement';\n\nexport default function UserManagementExample() {\n  return (\n    <div className=\"p-6 max-w-6xl\">\n      <UserManagement />\n    </div>\n  );\n}\n","size_bytes":189},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","size_bytes":6210},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","size_bytes":756},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","size_bytes":329},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","size_bytes":2154},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* Content Protection */\n* {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\ninput, textarea {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n\n/* LIGHT MODE */\n:root {\n  --button-outline: rgba(0,0,0, .10);\n  --badge-outline: rgba(0,0,0, .05);\n\n  /* Automatic computation of border around primary / danger buttons */\n  --opaque-button-border-intensity: -8; /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(0,0,0, .03);\n  --elevate-2: rgba(0,0,0, .08);\n\n  --background: 0 0% 100%;\n\n  --foreground: 0 0% 9%;\n\n  --border: 0 0% 89%;\n\n  --card: 0 0% 98%;\n\n  --card-foreground: 0 0% 9%;\n\n  --card-border: 0 0% 92%;\n\n  --sidebar: 0 0% 96%;\n\n  --sidebar-foreground: 0 0% 9%;\n\n  --sidebar-border: 0 0% 90%;\n\n  --sidebar-primary: 0 0% 9%;\n\n  --sidebar-primary-foreground: 0 0% 98%;\n\n  --sidebar-accent: 0 0% 91%;\n\n  --sidebar-accent-foreground: 0 0% 9%;\n\n  --sidebar-ring: 0 0% 20%;\n\n  --popover: 0 0% 94%;\n\n  --popover-foreground: 0 0% 9%;\n\n  --popover-border: 0 0% 88%;\n\n  --primary: 0 0% 9%;\n\n  --primary-foreground: 0 0% 98%;\n\n  --secondary: 0 0% 88%;\n\n  --secondary-foreground: 0 0% 9%;\n\n  --muted: 240 5% 92%;\n\n  --muted-foreground: 240 4% 35%;\n\n  --accent: 240 5% 90%;\n\n  --accent-foreground: 240 5% 11%;\n\n  --destructive: 0 84% 35%;\n\n  --destructive-foreground: 0 0% 98%;\n\n  --input: 0 0% 82%;\n  --ring: 0 0% 20%;\n  --chart-1: 210 95% 28%;\n  --chart-2: 170 85% 32%;\n  --chart-3: 280 75% 38%;\n  --chart-4: 40 90% 42%;\n  --chart-5: 340 80% 45%;\n\n  --font-sans: Inter, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif;\n  --font-serif: Georgia, serif;\n  --font-mono: \"SF Mono\", Monaco, \"Cascadia Code\", \"Roboto Mono\", Menlo, monospace;\n  --radius: .5rem; /* 8px */\n  --shadow-2xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.05);\n  --shadow-xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.08);\n  --shadow-sm: 0px 2px 4px 0px hsl(0 0% 0% / 0.06), 0px 1px 2px -1px hsl(0 0% 0% / 0.05);\n  --shadow: 0px 4px 6px 0px hsl(0 0% 0% / 0.07), 0px 2px 4px -1px hsl(0 0% 0% / 0.06);\n  --shadow-md: 0px 6px 12px 0px hsl(0 0% 0% / 0.08), 0px 4px 6px -2px hsl(0 0% 0% / 0.07);\n  --shadow-lg: 0px 12px 24px 0px hsl(0 0% 0% / 0.10), 0px 8px 12px -4px hsl(0 0% 0% / 0.08);\n  --shadow-xl: 0px 20px 40px 0px hsl(0 0% 0% / 0.12), 0px 12px 24px -6px hsl(0 0% 0% / 0.10);\n  --shadow-2xl: 0px 32px 64px 0px hsl(0 0% 0% / 0.14);\n  --tracking-normal: -0.01em;\n  --spacing: 0.25rem;\n\n  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */\n\n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n.dark {\n  --button-outline: rgba(255,255,255, .10);\n  --badge-outline: rgba(255,255,255, .05);\n\n  --opaque-button-border-intensity: 9;  /* In terms of percentages */\n\n  /* Backgrounds applied on top of other backgrounds when hovered/active */\n  --elevate-1: rgba(255,255,255, .04);\n  --elevate-2: rgba(255,255,255, .09);\n\n  --background: 0 0% 7%;\n\n  --foreground: 0 0% 98%;\n\n  --border: 0 0% 18%;\n\n  --card: 0 0% 9%;\n\n  --card-foreground: 0 0% 98%;\n\n  --card-border: 0 0% 13%;\n\n  --sidebar: 0 0% 11%;\n\n  --sidebar-foreground: 0 0% 98%;\n\n  --sidebar-border: 0 0% 15%;\n\n  --sidebar-primary: 0 0% 98%;\n\n  --sidebar-primary-foreground: 0 0% 9%;\n\n  --sidebar-accent: 0 0% 15%;\n\n  --sidebar-accent-foreground: 0 0% 98%;\n\n  --sidebar-ring: 0 0% 80%;\n\n  --popover: 0 0% 12%;\n\n  --popover-foreground: 0 0% 98%;\n\n  --popover-border: 0 0% 17%;\n\n  --primary: 0 0% 98%;\n\n  --primary-foreground: 0 0% 9%;\n\n  --secondary: 0 0% 18%;\n\n  --secondary-foreground: 0 0% 98%;\n\n  --muted: 240 5% 16%;\n\n  --muted-foreground: 240 4% 75%;\n\n  --accent: 240 4% 18%;\n\n  --accent-foreground: 240 5% 96%;\n\n  --destructive: 0 72% 35%;\n\n  --destructive-foreground: 0 0% 98%;\n\n  --input: 0 0% 24%;\n  --ring: 0 0% 80%;\n  --chart-1: 210 100% 75%;\n  --chart-2: 170 90% 70%;\n  --chart-3: 280 85% 75%;\n  --chart-4: 40 95% 68%;\n  --chart-5: 340 85% 72%;\n\n  --shadow-2xs: 0px 1px 2px 0px hsl(0 0% 0% / 0.30);\n  --shadow-xs: 0px 1px 3px 0px hsl(0 0% 0% / 0.35);\n  --shadow-sm: 0px 2px 4px 0px hsl(0 0% 0% / 0.32), 0px 1px 2px -1px hsl(0 0% 0% / 0.30);\n  --shadow: 0px 4px 6px 0px hsl(0 0% 0% / 0.35), 0px 2px 4px -1px hsl(0 0% 0% / 0.32);\n  --shadow-md: 0px 6px 12px 0px hsl(0 0% 0% / 0.38), 0px 4px 6px -2px hsl(0 0% 0% / 0.35);\n  --shadow-lg: 0px 12px 24px 0px hsl(0 0% 0% / 0.42), 0px 8px 12px -4px hsl(0 0% 0% / 0.38);\n  --shadow-xl: 0px 20px 40px 0px hsl(0 0% 0% / 0.48), 0px 12px 24px -6px hsl(0 0% 0% / 0.42);\n  --shadow-2xl: 0px 32px 64px 0px hsl(0 0% 0% / 0.55);\n\n  /* Automatically computed borders - intensity can be controlled by the user by the --opaque-button-border-intensity setting */\n  \n  /* Fallback for older browsers */\n  --sidebar-primary-border: hsl(var(--sidebar-primary));\n  --sidebar-primary-border: hsl(from hsl(var(--sidebar-primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --sidebar-accent-border: hsl(var(--sidebar-accent));\n  --sidebar-accent-border: hsl(from hsl(var(--sidebar-accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --primary-border: hsl(var(--primary));\n  --primary-border: hsl(from hsl(var(--primary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --secondary-border: hsl(var(--secondary));\n  --secondary-border: hsl(from hsl(var(--secondary)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --muted-border: hsl(var(--muted));\n  --muted-border: hsl(from hsl(var(--muted)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --accent-border: hsl(var(--accent));\n  --accent-border: hsl(from hsl(var(--accent)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n\n  /* Fallback for older browsers */\n  --destructive-border: hsl(var(--destructive));\n  --destructive-border: hsl(from hsl(var(--destructive)) h s calc(l + var(--opaque-button-border-intensity)) / alpha);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n}\n\n/**\n * Using the elevate system.\n * Automatic contrast adjustment.\n *\n * <element className=\"hover-elevate\" />\n * <element className=\"active-elevate-2\" />\n *\n * // Using the tailwind utility when a data attribute is \"on\"\n * <element className=\"toggle-elevate data-[state=on]:toggle-elevated\" />\n * // Or manually controlling the toggle state\n * <element className=\"toggle-elevate toggle-elevated\" />\n *\n * Elevation systems have to handle many states.\n * - not-hovered, vs. hovered vs. active  (three mutually exclusive states)\n * - toggled or not\n * - focused or not (this is not handled with these utilities)\n *\n * Even without handling focused or not, this is six possible combinations that\n * need to be distinguished from eachother visually.\n */\n@layer utilities {\n\n  /* Hide ugly search cancel button in Chrome until we can style it properly */\n  input[type=\"search\"]::-webkit-search-cancel-button {\n    @apply hidden;\n  }\n\n  /* Placeholder styling for contentEditable div */\n  [contenteditable][data-placeholder]:empty::before {\n    content: attr(data-placeholder);\n    color: hsl(var(--muted-foreground));\n    pointer-events: none;\n  }\n\n  /* .no-default-hover-elevate/no-default-active-elevate is an escape hatch so consumers of\n   * buttons/badges can remove the automatic brightness adjustment on interactions\n   * and program their own. */\n  .no-default-hover-elevate {}\n\n  .no-default-active-elevate {}\n\n\n  /**\n   * Toggleable backgrounds go behind the content. Hoverable/active goes on top.\n   * This way they can stack/compound. Both will overlap the parent's borders!\n   * So borders will be automatically adjusted both on toggle, and hover/active,\n   * and they will be compounded.\n   */\n  .toggle-elevate::before,\n  .toggle-elevate-2::before {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    border-radius: inherit;\n    z-index: -1;\n  }\n\n  .toggle-elevate.toggle-elevated::before {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.toggle-elevate::before {\n    inset: -1px;\n  }\n\n  /* Does not work on elements with overflow:hidden! */\n  .hover-elevate:not(.no-default-hover-elevate),\n  .active-elevate:not(.no-default-active-elevate),\n  .hover-elevate-2:not(.no-default-hover-elevate),\n  .active-elevate-2:not(.no-default-active-elevate) {\n    position: relative;\n    z-index: 0;\n  }\n\n  .hover-elevate:not(.no-default-hover-elevate)::after,\n  .active-elevate:not(.no-default-active-elevate)::after,\n  .hover-elevate-2:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:not(.no-default-active-elevate)::after {\n    content: \"\";\n    pointer-events: none;\n    position: absolute;\n    inset: 0px;\n    border-radius: inherit;\n    z-index: 999;\n  }\n\n  .hover-elevate:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-1);\n  }\n\n  .hover-elevate-2:hover:not(.no-default-hover-elevate)::after,\n  .active-elevate-2:active:not(.no-default-active-elevate)::after {\n    background-color: var(--elevate-2);\n  }\n\n  /* If there's a 1px border, adjust the inset so that it covers that parent's border */\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate-2:not(.no-hover-interaction-elevate)::after,\n  .border.active-elevate-2:not(.no-active-interaction-elevate)::after,\n  .border.hover-elevate:not(.no-hover-interaction-elevate)::after {\n    inset: -1px;\n  }\n}","size_bytes":11318},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n","size_bytes":1904},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","size_bytes":7428},"client/src/components/SubjectCard.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { BookOpen, ChevronRight } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface SubjectCardProps {\n  id: string;\n  name: string;\n  chapterCount: number;\n  onClick: () => void;\n}\n\nexport default function SubjectCard({ name, chapterCount, onClick }: SubjectCardProps) {\n  return (\n    <Card \n      className=\"p-6 hover-elevate active-elevate-2 cursor-pointer transition-all duration-200\"\n      onClick={onClick}\n      data-testid={`card-subject-${name.toLowerCase().replace(/\\s+/g, '-')}`}\n    >\n      <div className=\"flex items-start justify-between\">\n        <div className=\"flex items-start gap-4 flex-1\">\n          <div className=\"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0\">\n            <BookOpen className=\"w-6 h-6 text-primary\" />\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <h3 className=\"text-lg font-semibold text-foreground mb-1\">{name}</h3>\n            <p className=\"text-sm text-muted-foreground\">\n              {chapterCount} {chapterCount === 1 ? 'chapter' : 'chapters'}\n            </p>\n          </div>\n        </div>\n        <Button size=\"icon\" variant=\"ghost\" className=\"flex-shrink-0\">\n          <ChevronRight className=\"w-5 h-5\" />\n        </Button>\n      </div>\n    </Card>\n  );\n}\n","size_bytes":1348},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","size_bytes":4885},"client/src/pages/AdminDashboard.tsx":{"content":"import { useState } from \"react\";\nimport AdminSidebar from \"@/components/AdminSidebar\";\nimport UserManagement from \"@/components/UserManagement\";\nimport SubjectManagement from \"@/components/SubjectManagement\";\nimport ResourceManagement from \"@/components/ResourceManagement\";\nimport AdminSettings from \"@/components/AdminSettings\";\n\ninterface AdminDashboardProps {\n  onLogout: () => void;\n}\n\nexport default function AdminDashboard({ onLogout }: AdminDashboardProps) {\n  const [activeTab, setActiveTab] = useState('users');\n\n  return (\n    <div className=\"flex h-screen bg-background\">\n      <AdminSidebar\n        activeTab={activeTab}\n        onTabChange={setActiveTab}\n        onLogout={onLogout}\n      />\n\n      <main className=\"flex-1 overflow-y-auto\">\n        <div className=\"max-w-6xl mx-auto p-8\">\n          {activeTab === 'users' && <UserManagement />}\n          {activeTab === 'subjects' && <SubjectManagement />}\n          {activeTab === 'resources' && <ResourceManagement />}\n          {activeTab === 'settings' && <AdminSettings />}\n        </div>\n      </main>\n    </div>\n  );\n}\n","size_bytes":1091},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","size_bytes":1584},"client/src/components/examples/PdfViewer.tsx":{"content":"import PdfViewer from '../PdfViewer';\n\nexport default function PdfViewerExample() {\n  return (\n    <div className=\"p-6 max-w-4xl\">\n      <PdfViewer\n        url=\"https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf\"\n        title=\"Algebra Fundamentals\"\n      />\n    </div>\n  );\n}\n","size_bytes":298},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-md px-3 text-xs\",\n        lg: \"min-h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","size_bytes":2359},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","size_bytes":4845},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","size_bytes":1251},"client/src/components/PdfViewer.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { FileText, AlertCircle } from \"lucide-react\";\n\ninterface PdfViewerProps {\n  url: string;\n  title: string;\n}\n\nexport default function PdfViewer({ url, title }: PdfViewerProps) {\n  if (!url) {\n    return (\n      <Card className=\"p-6\">\n        <div className=\"flex items-center gap-3 mb-4\">\n          <FileText className=\"w-5 h-5 text-muted-foreground\" />\n          <h3 className=\"text-lg font-semibold\">{title}</h3>\n        </div>\n        <div \n          className=\"h-[600px] bg-muted/30 rounded-lg overflow-hidden border border-border flex items-center justify-center\"\n          data-testid=\"pdf-viewer\"\n        >\n          <div className=\"flex flex-col items-center gap-3 text-muted-foreground\">\n            <AlertCircle className=\"w-12 h-12\" />\n            <p className=\"text-sm\">No PDF available</p>\n          </div>\n        </div>\n      </Card>\n    );\n  }\n\n  const pdfSrc = url;\n\n  return (\n    <Card className=\"p-6\">\n      <div className=\"flex items-center gap-3 mb-4\">\n        <FileText className=\"w-5 h-5 text-muted-foreground\" />\n        <h3 className=\"text-lg font-semibold\">{title}</h3>\n      </div>\n      <div \n        className=\"h-[600px] bg-muted/30 rounded-lg overflow-hidden border border-border\"\n        onContextMenu={(e) => e.preventDefault()}\n        data-testid=\"pdf-viewer\"\n      >\n        <iframe\n          src={pdfSrc}\n          className=\"w-full h-full border-0\"\n          title={title}\n        />\n      </div>\n    </Card>\n  );\n}\n","size_bytes":1506},"client/src/components/UserManagement.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Plus, Trash2 } from \"lucide-react\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { queryClient } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport type { User } from \"@shared/schema\";\n\ninterface UserResponse {\n  id: string;\n  username: string;\n  validUntil: string;\n  isAdmin: boolean;\n}\n\nexport default function UserManagement() {\n  const { toast } = useToast();\n  const { data: users = [], isLoading } = useQuery<UserResponse[]>({\n    queryKey: ['/api/admin/users'],\n  });\n\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [newUsername, setNewUsername] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [validUntil, setValidUntil] = useState(\"\");\n\n  const createUserMutation = useMutation({\n    mutationFn: async (data: { username: string; password: string; validUntil: string }) => {\n      await apiRequest('POST', '/api/admin/users', { ...data, isAdmin: false });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/users'] });\n      setShowAddForm(false);\n      setNewUsername(\"\");\n      setNewPassword(\"\");\n      setValidUntil(\"\");\n      toast({ title: \"User created successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to create user\", variant: \"destructive\" });\n    },\n  });\n\n  const deleteUserMutation = useMutation({\n    mutationFn: async (id: string) => {\n      await apiRequest('DELETE', `/api/admin/users/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/users'] });\n      toast({ title: \"User deleted successfully\" });\n    },\n    onError: () => {\n      toast({ title: \"Failed to delete user\", variant: \"destructive\" });\n    },\n  });\n\n  const handleAddUser = () => {\n    if (!newUsername || !newPassword || !validUntil) {\n      toast({ title: \"Please fill all fields\", variant: \"destructive\" });\n      return;\n    }\n    createUserMutation.mutate({ username: newUsername, password: newPassword, validUntil });\n  };\n\n  const handleDeleteUser = (id: string) => {\n    if (confirm(\"Are you sure you want to delete this user?\")) {\n      deleteUserMutation.mutate(id);\n    }\n  };\n\n  const isUserExpired = (validUntil: string) => {\n    const today = new Date().toISOString().split('T')[0];\n    return validUntil < today;\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-2xl font-semibold\">User Management</h2>\n        <Button onClick={() => setShowAddForm(!showAddForm)} data-testid=\"button-add-user\">\n          <Plus className=\"w-4 h-4 mr-2\" />\n          Add User\n        </Button>\n      </div>\n\n      {showAddForm && (\n        <Card className=\"p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Add New User</h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"username\">Username</Label>\n              <Input\n                id=\"username\"\n                value={newUsername}\n                onChange={(e) => setNewUsername(e.target.value)}\n                placeholder=\"Enter username\"\n                data-testid=\"input-new-username\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"password\">Password</Label>\n              <Input\n                id=\"password\"\n                type=\"password\"\n                value={newPassword}\n                onChange={(e) => setNewPassword(e.target.value)}\n                placeholder=\"Enter password\"\n                data-testid=\"input-new-password\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"validUntil\">Valid Until</Label>\n              <Input\n                id=\"validUntil\"\n                type=\"date\"\n                value={validUntil}\n                onChange={(e) => setValidUntil(e.target.value)}\n                data-testid=\"input-valid-until\"\n              />\n            </div>\n          </div>\n          <div className=\"flex gap-3 mt-6\">\n            <Button \n              onClick={handleAddUser} \n              disabled={createUserMutation.isPending}\n              data-testid=\"button-save-user\"\n            >\n              {createUserMutation.isPending ? 'Saving...' : 'Save User'}\n            </Button>\n            <Button variant=\"outline\" onClick={() => setShowAddForm(false)}>Cancel</Button>\n          </div>\n        </Card>\n      )}\n\n      <Card className=\"p-6\">\n        {isLoading ? (\n          <div className=\"text-center text-muted-foreground py-8\">Loading users...</div>\n        ) : (\n          <div className=\"space-y-3\">\n            {users.filter(u => !u.isAdmin).map((user) => {\n              const expired = isUserExpired(user.validUntil);\n              return (\n                <div\n                  key={user.id}\n                  className=\"flex items-center justify-between p-4 border border-border rounded-lg\"\n                  data-testid={`user-row-${user.id}`}\n                >\n                  <div className=\"flex items-center gap-4 flex-1\">\n                    <div>\n                      <p className=\"font-medium\">{user.username}</p>\n                      <p className=\"text-sm text-muted-foreground\">\n                        Valid until: {user.validUntil}\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-3\">\n                    <Badge variant={expired ? \"destructive\" : \"secondary\"}>\n                      {expired ? 'Expired' : 'Active'}\n                    </Badge>\n                    <Button\n                      size=\"icon\"\n                      variant=\"ghost\"\n                      onClick={() => handleDeleteUser(user.id)}\n                      disabled={deleteUserMutation.isPending}\n                      data-testid={`button-delete-${user.id}`}\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </Button>\n                  </div>\n                </div>\n              );\n            })}\n            {users.filter(u => !u.isAdmin).length === 0 && (\n              <div className=\"text-center text-muted-foreground py-8\">No users yet</div>\n            )}\n          </div>\n        )}\n      </Card>\n    </div>\n  );\n}\n","size_bytes":6681},"client/src/components/examples/ChapterItem.tsx":{"content":"import ChapterItem from '../ChapterItem';\n\nexport default function ChapterItemExample() {\n  return (\n    <div className=\"p-6 max-w-2xl space-y-3\">\n      <ChapterItem\n        id=\"1\"\n        name=\"Introduction to Algebra\"\n        hasVideo={true}\n        hasPdf={true}\n        hasQuiz={true}\n        onClick={() => console.log('Chapter clicked')}\n      />\n      <ChapterItem\n        id=\"2\"\n        name=\"Linear Equations\"\n        hasVideo={true}\n        hasPdf={false}\n        hasQuiz={true}\n        onClick={() => console.log('Chapter clicked')}\n      />\n    </div>\n  );\n}\n","size_bytes":571},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<\"textarea\">\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n","size_bytes":689},"client/src/components/examples/LoginForm.tsx":{"content":"import LoginForm from '../LoginForm';\n\nexport default function LoginFormExample() {\n  return (\n    <LoginForm \n      onLogin={(username, password) => console.log('Login attempt:', username, password)} \n    />\n  );\n}\n","size_bytes":216},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","size_bytes":140},"client/src/components/SubjectManagement.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Plus, ChevronDown, ChevronRight, Trash2 } from \"lucide-react\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport type { Subject, Chapter, Content } from \"@shared/schema\";\n\nexport default function SubjectManagement() {\n  const { toast } = useToast();\n  const [expandedSubjects, setExpandedSubjects] = useState<Set<string>>(new Set());\n  const [showAddSubject, setShowAddSubject] = useState(false);\n  const [showAddChapter, setShowAddChapter] = useState<string | null>(null);\n  const [showAddContent, setShowAddContent] = useState<string | null>(null);\n  const [editingContent, setEditingContent] = useState<string | null>(null);\n  const [newSubjectName, setNewSubjectName] = useState(\"\");\n  const [newChapterName, setNewChapterName] = useState(\"\");\n  const [contentType, setContentType] = useState<'video' | 'quiz'>('video');\n  const [contentTitle, setContentTitle] = useState(\"\");\n  const [contentUrl, setContentUrl] = useState(\"\");\n  const [questions, setQuestions] = useState<Array<{ id?: string; question: string; options: string[]; correctAnswer: number; imageUrl?: string }>>([]);\n\n  const { data: subjects = [] } = useQuery<Subject[]>({\n    queryKey: ['/api/admin/subjects'],\n  });\n\n  const createSubjectMutation = useMutation({\n    mutationFn: async (name: string) => {\n      await apiRequest('POST', '/api/admin/subjects', { name });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/subjects'] });\n      setShowAddSubject(false);\n      setNewSubjectName(\"\");\n      toast({ title: \"Subject created successfully\" });\n    },\n  });\n\n  const deleteSubjectMutation = useMutation({\n    mutationFn: async (id: string) => {\n      await apiRequest('DELETE', `/api/admin/subjects/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/subjects'] });\n      toast({ title: \"Subject deleted successfully\" });\n    },\n  });\n\n  const createChapterMutation = useMutation({\n    mutationFn: async (data: { subjectId: string; name: string }) => {\n      await apiRequest('POST', '/api/admin/chapters', { ...data, orderIndex: 0 });\n    },\n    onSuccess: (_, variables) => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/subjects', variables.subjectId, 'chapters'] });\n      setShowAddChapter(null);\n      setNewChapterName(\"\");\n      toast({ title: \"Chapter created successfully\" });\n    },\n  });\n\n  const deleteChapterMutation = useMutation({\n    mutationFn: async (id: string) => {\n      await apiRequest('DELETE', `/api/admin/chapters/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/subjects'] });\n      toast({ title: \"Chapter deleted successfully\" });\n    },\n  });\n\n  const createContentMutation = useMutation({\n    mutationFn: async (data: { chapterId: string; type: string; title: string; url?: string }) => {\n      const content = await apiRequest('POST', '/api/admin/content', { \n        chapterId: data.chapterId,\n        type: data.type,\n        title: data.title,\n        url: data.url,\n        orderIndex: 0 \n      });\n      return content.json();\n    },\n    onSuccess: async (contentData, variables) => {\n      if (variables.type === 'quiz' && questions.length > 0) {\n        for (let i = 0; i < questions.length; i++) {\n          await apiRequest('POST', '/api/admin/questions', {\n            contentId: contentData.id,\n            question: questions[i].question,\n            options: JSON.stringify(questions[i].options),\n            correctAnswer: questions[i].correctAnswer,\n            imageUrl: questions[i].imageUrl || undefined,\n            orderIndex: i,\n          });\n        }\n      }\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/chapters', variables.chapterId, 'content'] });\n      setShowAddContent(null);\n      setContentTitle(\"\");\n      setContentUrl(\"\");\n      setQuestions([]);\n      toast({ title: \"Content created successfully\" });\n    },\n    onError: (error: any) => {\n      toast({ \n        title: \"Failed to create content\", \n        description: error.message,\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const updateContentMutation = useMutation({\n    mutationFn: async (data: { id: string; chapterId: string; type: string; title: string; url?: string }) => {\n      const content = await apiRequest('PUT', `/api/admin/content/${data.id}`, { \n        title: data.title, \n        url: data.url \n      });\n      return { contentData: await content.json(), chapterId: data.chapterId, type: data.type };\n    },\n    onSuccess: async ({ contentData, chapterId, type }) => {\n      if (type === 'quiz') {\n        const existingResponse = await fetch(`/api/admin/content/${contentData.id}/questions`, { credentials: 'include' });\n        const existingQuestions = await existingResponse.json();\n        const existingIds = new Set(existingQuestions.map((q: any) => q.id));\n        \n        for (let i = 0; i < questions.length; i++) {\n          const q = questions[i];\n          if (q.id && existingIds.has(q.id)) {\n            await apiRequest('PUT', `/api/admin/questions/${q.id}`, {\n              question: q.question,\n              options: JSON.stringify(q.options),\n              correctAnswer: q.correctAnswer,\n              imageUrl: q.imageUrl || undefined,\n              orderIndex: i,\n            });\n            existingIds.delete(q.id);\n          } else {\n            await apiRequest('POST', '/api/admin/questions', {\n              contentId: contentData.id,\n              question: q.question,\n              options: JSON.stringify(q.options),\n              correctAnswer: q.correctAnswer,\n              imageUrl: q.imageUrl || undefined,\n              orderIndex: i,\n            });\n          }\n        }\n        \n        for (const id of Array.from(existingIds)) {\n          await apiRequest('DELETE', `/api/admin/questions/${id}`);\n        }\n      }\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/chapters', chapterId, 'content'] });\n      setEditingContent(null);\n      setContentTitle(\"\");\n      setContentUrl(\"\");\n      setQuestions([]);\n      toast({ title: \"Content updated successfully\" });\n    },\n    onError: (error: any) => {\n      toast({ \n        title: \"Failed to update content\", \n        description: error.message,\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const deleteContentMutation = useMutation({\n    mutationFn: async (id: string) => {\n      await apiRequest('DELETE', `/api/admin/content/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/chapters'] });\n      toast({ title: \"Content deleted successfully\" });\n    },\n  });\n\n  const toggleSubject = (id: string) => {\n    const newExpanded = new Set(expandedSubjects);\n    if (newExpanded.has(id)) {\n      newExpanded.delete(id);\n    } else {\n      newExpanded.add(id);\n    }\n    setExpandedSubjects(newExpanded);\n  };\n\n  const addQuestion = () => {\n    setQuestions([...questions, { question: '', options: ['', '', '', ''], correctAnswer: 0 }]);\n  };\n\n  const updateQuestion = (index: number, field: string, value: any) => {\n    const updated = [...questions];\n    if (field === 'question' || field === 'imageUrl' || field === 'correctAnswer') {\n      updated[index] = { ...updated[index], [field]: value };\n    }\n    setQuestions(updated);\n  };\n\n  const updateOption = (qIndex: number, optIndex: number, value: string) => {\n    const updated = [...questions];\n    updated[qIndex].options[optIndex] = value;\n    setQuestions(updated);\n  };\n\n  const removeEmptyOption = (qIndex: number, optIndex: number) => {\n    const updated = [...questions];\n    if (updated[qIndex].options.length > 3) {\n      updated[qIndex].options.splice(optIndex, 1);\n      if (updated[qIndex].correctAnswer >= updated[qIndex].options.length) {\n        updated[qIndex].correctAnswer = updated[qIndex].options.length - 1;\n      } else if (updated[qIndex].correctAnswer === optIndex) {\n        updated[qIndex].correctAnswer = 0;\n      } else if (updated[qIndex].correctAnswer > optIndex) {\n        updated[qIndex].correctAnswer--;\n      }\n      setQuestions(updated);\n    }\n  };\n\n  const removeQuestion = (index: number) => {\n    const updated = questions.filter((_, i) => i !== index);\n    setQuestions(updated);\n  };\n\n  const startEditContent = async (content: Content) => {\n    setEditingContent(content.id);\n    setContentType(content.type);\n    setContentTitle(content.title);\n    setContentUrl(content.url || \"\");\n    \n    if (content.type === 'quiz') {\n      const response = await fetch(`/api/admin/content/${content.id}/questions`, { credentials: 'include' });\n      const existingQuestions = await response.json();\n      setQuestions(existingQuestions.map((q: any) => ({\n        id: q.id,\n        question: q.question,\n        options: JSON.parse(q.options),\n        correctAnswer: q.correctAnswer,\n        imageUrl: q.imageUrl || undefined,\n      })));\n    } else {\n      setQuestions([]);\n    }\n  };\n\n  const cancelEdit = () => {\n    setEditingContent(null);\n    setShowAddContent(null);\n    setContentTitle(\"\");\n    setContentUrl(\"\");\n    setQuestions([]);\n    setContentType('video');\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-2xl font-semibold\">Subject Management</h2>\n        <Button onClick={() => setShowAddSubject(!showAddSubject)} data-testid=\"button-add-subject\">\n          <Plus className=\"w-4 h-4 mr-2\" />\n          Add Subject\n        </Button>\n      </div>\n\n      {showAddSubject && (\n        <Card className=\"p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Add New Subject</h3>\n          <div className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"subjectName\">Subject Name</Label>\n              <Input\n                id=\"subjectName\"\n                value={newSubjectName}\n                onChange={(e) => setNewSubjectName(e.target.value)}\n                placeholder=\"e.g., Mathematics, Physics\"\n                data-testid=\"input-subject-name\"\n              />\n            </div>\n            <div className=\"flex gap-3\">\n              <Button \n                onClick={() => createSubjectMutation.mutate(newSubjectName)} \n                disabled={!newSubjectName || createSubjectMutation.isPending}\n                data-testid=\"button-save-subject\"\n              >\n                Add Subject\n              </Button>\n              <Button variant=\"outline\" onClick={() => setShowAddSubject(false)}>Cancel</Button>\n            </div>\n          </div>\n        </Card>\n      )}\n\n      <div className=\"space-y-3\">\n        {subjects.map((subject) => (\n          <SubjectItem\n            key={subject.id}\n            subject={subject}\n            isExpanded={expandedSubjects.has(subject.id)}\n            onToggle={() => toggleSubject(subject.id)}\n            onDelete={() => deleteSubjectMutation.mutate(subject.id)}\n            showAddChapter={showAddChapter === subject.id}\n            onShowAddChapter={() => setShowAddChapter(subject.id)}\n            onHideAddChapter={() => setShowAddChapter(null)}\n            newChapterName={newChapterName}\n            setNewChapterName={setNewChapterName}\n            createChapter={(name: string) => createChapterMutation.mutate({ subjectId: subject.id, name })}\n            showAddContent={showAddContent}\n            onShowAddContent={setShowAddContent}\n            onHideAddContent={cancelEdit}\n            editingContent={editingContent}\n            startEditContent={startEditContent}\n            contentType={contentType}\n            setContentType={setContentType}\n            contentTitle={contentTitle}\n            setContentTitle={setContentTitle}\n            contentUrl={contentUrl}\n            setContentUrl={setContentUrl}\n            questions={questions}\n            addQuestion={addQuestion}\n            updateQuestion={updateQuestion}\n            updateOption={updateOption}\n            removeEmptyOption={removeEmptyOption}\n            removeQuestion={removeQuestion}\n            createContent={(chapterId: string) => createContentMutation.mutate({ chapterId, type: contentType, title: contentTitle, url: contentUrl })}\n            updateContent={(contentId: string, chapterId: string) => updateContentMutation.mutate({ id: contentId, chapterId, type: contentType, title: contentTitle, url: contentUrl })}\n            deleteChapter={(id: string) => deleteChapterMutation.mutate(id)}\n            deleteContent={(id: string) => deleteContentMutation.mutate(id)}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction SubjectItem({ subject, isExpanded, onToggle, onDelete, showAddChapter, onShowAddChapter, onHideAddChapter, newChapterName, setNewChapterName, createChapter, showAddContent, onShowAddContent, onHideAddContent, editingContent, startEditContent, contentType, setContentType, contentTitle, setContentTitle, contentUrl, setContentUrl, questions, addQuestion, updateQuestion, updateOption, removeEmptyOption, removeQuestion, createContent, updateContent, deleteChapter, deleteContent }: any) {\n  const { data: chapters = [] } = useQuery<Chapter[]>({\n    queryKey: ['/api/admin/subjects', subject.id, 'chapters'],\n    queryFn: async () => {\n      const response = await fetch(`/api/admin/subjects/${subject.id}/chapters`, { credentials: 'include' });\n      if (!response.ok) throw new Error('Failed to fetch chapters');\n      return response.json();\n    },\n    enabled: isExpanded,\n  });\n\n  return (\n    <Card className=\"overflow-hidden\">\n      <div className=\"p-4 flex items-center justify-between cursor-pointer hover-elevate\" onClick={onToggle} data-testid={`subject-${subject.id}`}>\n        <div className=\"flex items-center gap-3\">\n          {isExpanded ? <ChevronDown className=\"w-5 h-5\" /> : <ChevronRight className=\"w-5 h-5\" />}\n          <h3 className=\"text-lg font-semibold\">{subject.name}</h3>\n        </div>\n        <div className=\"flex gap-2\">\n          <Button size=\"sm\" onClick={(e) => { e.stopPropagation(); onShowAddChapter(); }}>\n            <Plus className=\"w-4 h-4 mr-2\" />\n            Add Chapter\n          </Button>\n          <Button size=\"sm\" variant=\"ghost\" onClick={(e) => { e.stopPropagation(); onDelete(); }}>\n            <Trash2 className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </div>\n\n      {isExpanded && (\n        <div className=\"border-t border-border p-4 bg-muted/30 space-y-3\">\n          {showAddChapter && (\n            <Card className=\"p-4 bg-background\">\n              <h4 className=\"font-medium mb-3\">Add Chapter</h4>\n              <div className=\"flex gap-3\">\n                <Input\n                  value={newChapterName}\n                  onChange={(e) => setNewChapterName(e.target.value)}\n                  placeholder=\"Chapter name\"\n                />\n                <Button onClick={() => createChapter(newChapterName)}>Add</Button>\n                <Button variant=\"outline\" onClick={onHideAddChapter}>Cancel</Button>\n              </div>\n            </Card>\n          )}\n\n          {chapters.map((chapter) => (\n            <ChapterItem\n              key={chapter.id}\n              chapter={chapter}\n              showAddContent={showAddContent === chapter.id}\n              onShowAddContent={() => onShowAddContent(chapter.id)}\n              onHideAddContent={onHideAddContent}\n              editingContent={editingContent}\n              startEditContent={startEditContent}\n              contentType={contentType}\n              setContentType={setContentType}\n              contentTitle={contentTitle}\n              setContentTitle={setContentTitle}\n              contentUrl={contentUrl}\n              setContentUrl={setContentUrl}\n              questions={questions}\n              addQuestion={addQuestion}\n              updateQuestion={updateQuestion}\n              updateOption={updateOption}\n              removeEmptyOption={removeEmptyOption}\n              removeQuestion={removeQuestion}\n              createContent={() => createContent(chapter.id)}\n              updateContent={(contentId: string) => updateContent(contentId, chapter.id)}\n              deleteChapter={() => deleteChapter(chapter.id)}\n              deleteContent={deleteContent}\n            />\n          ))}\n        </div>\n      )}\n    </Card>\n  );\n}\n\nfunction ChapterItem({ chapter, showAddContent, onShowAddContent, onHideAddContent, editingContent, startEditContent, contentType, setContentType, contentTitle, setContentTitle, contentUrl, setContentUrl, questions, addQuestion, updateQuestion, updateOption, removeEmptyOption, removeQuestion, createContent, updateContent, deleteChapter, deleteContent }: any) {\n  const { toast } = useToast();\n  const { data: content = [] } = useQuery<Content[]>({\n    queryKey: ['/api/admin/chapters', chapter.id, 'content'],\n    queryFn: async () => {\n      const response = await fetch(`/api/admin/chapters/${chapter.id}/content`, { credentials: 'include' });\n      if (!response.ok) throw new Error('Failed to fetch content');\n      return response.json();\n    },\n  });\n\n  return (\n    <div className=\"bg-background rounded-lg p-4 border border-border\">\n      <div className=\"flex items-center justify-between mb-3\">\n        <h4 className=\"font-medium\">{chapter.name}</h4>\n        <div className=\"flex gap-2\">\n          <Button size=\"sm\" variant=\"outline\" onClick={onShowAddContent}>Add Content</Button>\n          <Button size=\"sm\" variant=\"ghost\" onClick={deleteChapter}><Trash2 className=\"w-4 h-4\" /></Button>\n        </div>\n      </div>\n\n      {(showAddContent || editingContent) && (\n        <Card className=\"p-4 mb-3 bg-muted/30\">\n          <h5 className=\"font-medium mb-3\">{editingContent ? 'Edit Content' : 'Add Content'}</h5>\n          <div className=\"space-y-3\">\n            <div className=\"space-y-2\">\n              <Label>Content Type</Label>\n              <Select value={contentType} onValueChange={(v: any) => setContentType(v)}>\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"video\">Video Lecture</SelectItem>\n                  <SelectItem value=\"quiz\">Quiz</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"space-y-2\">\n              <Label>Title</Label>\n              <Input value={contentTitle} onChange={(e) => setContentTitle(e.target.value)} placeholder=\"Content title\" />\n            </div>\n            {contentType === 'video' && (\n              <div className=\"space-y-2\">\n                <Label>Video URL</Label>\n                <Input \n                  value={contentUrl}\n                  onChange={(e) => setContentUrl(e.target.value)}\n                  placeholder=\"https://example.com/video.mp4\"\n                  data-testid=\"input-video-url\"\n                />\n                <p className=\"text-xs text-muted-foreground\">Enter a direct link to an MP4 video file</p>\n              </div>\n            )}\n            {contentType === 'quiz' && (\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center justify-between\">\n                  <Label>Questions</Label>\n                  <Button size=\"sm\" variant=\"outline\" onClick={addQuestion} data-testid=\"button-add-question\">\n                    <Plus className=\"w-3 h-3 mr-1\" />\n                    Add Question\n                  </Button>\n                </div>\n                {questions.map((q: any, qIdx: number) => (\n                  <Card key={qIdx} className=\"p-3\">\n                    <div className=\"flex items-start justify-between mb-2\">\n                      <span className=\"text-sm font-medium text-muted-foreground\">Question {qIdx + 1}</span>\n                      <Button \n                        size=\"sm\" \n                        variant=\"ghost\" \n                        onClick={() => removeQuestion(qIdx)}\n                        data-testid={`button-remove-question-${qIdx}`}\n                      >\n                        <Trash2 className=\"w-3 h-3\" />\n                      </Button>\n                    </div>\n                    <Input \n                      value={q.question} \n                      onChange={(e) => updateQuestion(qIdx, 'question', e.target.value)} \n                      placeholder=\"Question text\" \n                      className=\"mb-2\"\n                      data-testid={`input-question-${qIdx}`}\n                    />\n                    <Input \n                      value={q.imageUrl || ''} \n                      onChange={(e) => updateQuestion(qIdx, 'imageUrl', e.target.value)} \n                      placeholder=\"Image URL (optional)\" \n                      className=\"mb-2\"\n                      data-testid={`input-image-url-${qIdx}`}\n                    />\n                    <div className=\"space-y-2\">\n                      <Label className=\"text-xs text-muted-foreground\">Options (Select the correct answer)</Label>\n                      <RadioGroup \n                        value={q.correctAnswer.toString()} \n                        onValueChange={(value) => updateQuestion(qIdx, 'correctAnswer', parseInt(value))}\n                      >\n                        {q.options.map((opt: string, optIdx: number) => (\n                          <div key={optIdx} className=\"flex gap-2 items-center\">\n                            <RadioGroupItem \n                              value={optIdx.toString()} \n                              id={`q${qIdx}-opt${optIdx}`}\n                              data-testid={`radio-correct-${qIdx}-${optIdx}`}\n                            />\n                            <Input \n                              value={opt} \n                              onChange={(e) => updateOption(qIdx, optIdx, e.target.value)} \n                              placeholder={`Option ${optIdx + 1}`}\n                              data-testid={`input-option-${qIdx}-${optIdx}`}\n                              className=\"flex-1\"\n                            />\n                            {q.options.length > 3 && (\n                              <Button \n                                size=\"sm\" \n                                variant=\"ghost\" \n                                onClick={() => removeEmptyOption(qIdx, optIdx)}\n                                data-testid={`button-remove-option-${qIdx}-${optIdx}`}\n                              >\n                                ×\n                              </Button>\n                            )}\n                          </div>\n                        ))}\n                      </RadioGroup>\n                    </div>\n                  </Card>\n                ))}\n              </div>\n            )}\n            <div className=\"flex gap-2\">\n              <Button \n                onClick={() => {\n                  if (contentType === 'video' && !contentUrl.trim()) {\n                    toast({ \n                      title: \"Validation Error\", \n                      description: \"Please enter a video URL.\",\n                      variant: \"destructive\" \n                    });\n                    return;\n                  }\n                  if (contentType === 'quiz') {\n                    const hasEmptyFields = questions.some((q: any) => \n                      !q.question.trim() || q.options.some((opt: string) => !opt.trim())\n                    );\n                    if (hasEmptyFields) {\n                      toast({ \n                        title: \"Validation Error\", \n                        description: \"Please fill in all question texts and options before saving.\",\n                        variant: \"destructive\" \n                      });\n                      return;\n                    }\n                    if (questions.length === 0) {\n                      toast({ \n                        title: \"Validation Error\", \n                        description: \"Please add at least one question for the quiz.\",\n                        variant: \"destructive\" \n                      });\n                      return;\n                    }\n                  }\n                  if (editingContent) {\n                    updateContent(editingContent);\n                  } else {\n                    createContent();\n                  }\n                }}\n                data-testid=\"button-save-content\"\n              >\n                Save\n              </Button>\n              <Button variant=\"outline\" onClick={onHideAddContent} data-testid=\"button-cancel-content\">Cancel</Button>\n            </div>\n          </div>\n        </Card>\n      )}\n\n      <div className=\"space-y-2\">\n        {content.map((item) => (\n          <div key={item.id} className=\"flex items-center justify-between p-2 rounded hover-elevate\">\n            <span className=\"text-sm\">{item.title} <span className=\"text-muted-foreground text-xs\">({item.type})</span></span>\n            <div className=\"flex gap-1\">\n              <Button \n                size=\"sm\" \n                variant=\"ghost\" \n                onClick={() => startEditContent(item)}\n                data-testid={`button-edit-content-${item.id}`}\n              >\n                Edit\n              </Button>\n              <Button \n                size=\"sm\" \n                variant=\"ghost\" \n                onClick={() => deleteContent(item.id)}\n                data-testid={`button-delete-content-${item.id}`}\n              >\n                <Trash2 className=\"w-3 h-3\" />\n              </Button>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","size_bytes":26109},"client/src/components/examples/AdminSettings.tsx":{"content":"import AdminSettings from '../AdminSettings';\n\nexport default function AdminSettingsExample() {\n  return (\n    <div className=\"p-6 max-w-6xl\">\n      <AdminSettings />\n    </div>\n  );\n}\n","size_bytes":185},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","size_bytes":3848},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","size_bytes":1753},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","size_bytes":7609},"server/db.ts":{"content":"import Database from 'better-sqlite3';\nimport { randomUUID } from 'crypto';\nimport bcrypt from 'bcryptjs';\n\nconst db = new Database('archer.db');\n\ndb.exec(`\n  CREATE TABLE IF NOT EXISTS users (\n    id TEXT PRIMARY KEY,\n    username TEXT UNIQUE NOT NULL,\n    password TEXT NOT NULL,\n    validUntil TEXT NOT NULL,\n    isAdmin INTEGER NOT NULL DEFAULT 0\n  );\n\n  CREATE TABLE IF NOT EXISTS subjects (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL\n  );\n\n  CREATE TABLE IF NOT EXISTS chapters (\n    id TEXT PRIMARY KEY,\n    subjectId TEXT NOT NULL,\n    name TEXT NOT NULL,\n    orderIndex INTEGER NOT NULL DEFAULT 0,\n    FOREIGN KEY (subjectId) REFERENCES subjects(id) ON DELETE CASCADE\n  );\n\n  CREATE TABLE IF NOT EXISTS content (\n    id TEXT PRIMARY KEY,\n    chapterId TEXT NOT NULL,\n    type TEXT NOT NULL,\n    title TEXT NOT NULL,\n    url TEXT,\n    orderIndex INTEGER NOT NULL DEFAULT 0,\n    FOREIGN KEY (chapterId) REFERENCES chapters(id) ON DELETE CASCADE\n  );\n\n  CREATE TABLE IF NOT EXISTS quiz_questions (\n    id TEXT PRIMARY KEY,\n    contentId TEXT NOT NULL,\n    question TEXT NOT NULL,\n    options TEXT NOT NULL,\n    correctAnswer INTEGER NOT NULL DEFAULT 0,\n    imageUrl TEXT,\n    orderIndex INTEGER NOT NULL DEFAULT 0,\n    FOREIGN KEY (contentId) REFERENCES content(id) ON DELETE CASCADE\n  );\n\n  CREATE TABLE IF NOT EXISTS resources (\n    id TEXT PRIMARY KEY,\n    title TEXT NOT NULL,\n    description TEXT,\n    url TEXT NOT NULL,\n    type TEXT NOT NULL,\n    category TEXT\n  );\n`);\n\nasync function seedAdmin() {\n  const existingAdmin = db.prepare('SELECT * FROM users WHERE username = ?').get('admin');\n  \n  if (!existingAdmin) {\n    const hashedPassword = await bcrypt.hash('Hola123_10', 10);\n    const id = randomUUID();\n    db.prepare(`\n      INSERT INTO users (id, username, password, validUntil, isAdmin)\n      VALUES (?, ?, ?, ?, ?)\n    `).run(id, 'admin', hashedPassword, '2099-12-31', 1);\n    \n    console.log('Admin user seeded successfully');\n  }\n}\n\nseedAdmin().catch(console.error);\n\nexport default db;\n","size_bytes":2020},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n","size_bytes":1202},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","size_bytes":157},"client/src/components/examples/SubjectCard.tsx":{"content":"import SubjectCard from '../SubjectCard';\n\nexport default function SubjectCardExample() {\n  return (\n    <div className=\"p-6 max-w-md\">\n      <SubjectCard\n        id=\"1\"\n        name=\"Mathematics\"\n        chapterCount={12}\n        onClick={() => console.log('Subject clicked')}\n      />\n    </div>\n  );\n}\n","size_bytes":305},"client/src/lib/utils.ts":{"content":"import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","size_bytes":166},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","size_bytes":844},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","size_bytes":4281},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","size_bytes":4420},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","size_bytes":565},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","size_bytes":1527},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","size_bytes":1383},"server/storage.ts":{"content":"import db from './db';\nimport { randomUUID } from 'crypto';\nimport type {\n  User, InsertUser,\n  Subject, InsertSubject,\n  Chapter, InsertChapter,\n  Content, InsertContent,\n  QuizQuestion, InsertQuizQuestion,\n  Resource, InsertResource\n} from '@shared/schema';\n\nexport interface IStorage {\n  getUser(id: string): User | undefined;\n  getUserByUsername(username: string): User | undefined;\n  createUser(user: InsertUser): User;\n  updateUser(id: string, updates: Partial<InsertUser>): User | undefined;\n  deleteUser(id: string): boolean;\n  getAllUsers(): User[];\n  \n  getSubject(id: string): Subject | undefined;\n  getAllSubjects(): Subject[];\n  createSubject(subject: InsertSubject): Subject;\n  updateSubject(id: string, updates: Partial<InsertSubject>): Subject | undefined;\n  deleteSubject(id: string): boolean;\n  \n  getChaptersBySubject(subjectId: string): Chapter[];\n  getChapter(id: string): Chapter | undefined;\n  createChapter(chapter: InsertChapter): Chapter;\n  updateChapter(id: string, updates: Partial<InsertChapter>): Chapter | undefined;\n  deleteChapter(id: string): boolean;\n  \n  getContentByChapter(chapterId: string): Content[];\n  getContent(id: string): Content | undefined;\n  createContent(content: InsertContent): Content;\n  updateContent(id: string, updates: Partial<InsertContent>): Content | undefined;\n  deleteContent(id: string): boolean;\n  \n  getQuestionsByContent(contentId: string): QuizQuestion[];\n  getQuizQuestion(id: string): QuizQuestion | undefined;\n  createQuizQuestion(question: InsertQuizQuestion): QuizQuestion;\n  updateQuizQuestion(id: string, updates: Partial<InsertQuizQuestion>): QuizQuestion | undefined;\n  deleteQuizQuestion(id: string): boolean;\n  \n  getAllResources(): Resource[];\n  getResource(id: string): Resource | undefined;\n  createResource(resource: InsertResource): Resource;\n  updateResource(id: string, updates: Partial<InsertResource>): Resource | undefined;\n  deleteResource(id: string): boolean;\n}\n\nexport class SQLiteStorage implements IStorage {\n  getUser(id: string): User | undefined {\n    const row = db.prepare('SELECT * FROM users WHERE id = ?').get(id) as any;\n    if (!row) return undefined;\n    return { ...row, isAdmin: Boolean(row.isAdmin) };\n  }\n\n  getUserByUsername(username: string): User | undefined {\n    const row = db.prepare('SELECT * FROM users WHERE username = ?').get(username) as any;\n    if (!row) return undefined;\n    return { ...row, isAdmin: Boolean(row.isAdmin) };\n  }\n\n  createUser(user: InsertUser): User {\n    const id = randomUUID();\n    db.prepare(`\n      INSERT INTO users (id, username, password, validUntil, isAdmin)\n      VALUES (?, ?, ?, ?, ?)\n    `).run(id, user.username, user.password, user.validUntil, user.isAdmin ? 1 : 0);\n    return this.getUser(id)!;\n  }\n\n  updateUser(id: string, updates: Partial<InsertUser>): User | undefined {\n    const fields: string[] = [];\n    const values: any[] = [];\n    \n    if (updates.username !== undefined) {\n      fields.push('username = ?');\n      values.push(updates.username);\n    }\n    if (updates.password !== undefined) {\n      fields.push('password = ?');\n      values.push(updates.password);\n    }\n    if (updates.validUntil !== undefined) {\n      fields.push('validUntil = ?');\n      values.push(updates.validUntil);\n    }\n    \n    if (fields.length === 0) return this.getUser(id);\n    \n    values.push(id);\n    db.prepare(`UPDATE users SET ${fields.join(', ')} WHERE id = ?`).run(...values);\n    return this.getUser(id);\n  }\n\n  deleteUser(id: string): boolean {\n    const result = db.prepare('DELETE FROM users WHERE id = ?').run(id);\n    return result.changes > 0;\n  }\n\n  getAllUsers(): User[] {\n    const rows = db.prepare('SELECT * FROM users ORDER BY username').all() as any[];\n    return rows.map(row => ({ ...row, isAdmin: Boolean(row.isAdmin) }));\n  }\n\n  getSubject(id: string): Subject | undefined {\n    return db.prepare('SELECT * FROM subjects WHERE id = ?').get(id) as Subject;\n  }\n\n  getAllSubjects(): Subject[] {\n    return db.prepare('SELECT * FROM subjects ORDER BY name').all() as Subject[];\n  }\n\n  createSubject(subject: InsertSubject): Subject {\n    const id = randomUUID();\n    db.prepare('INSERT INTO subjects (id, name) VALUES (?, ?)').run(id, subject.name);\n    return this.getSubject(id)!;\n  }\n\n  updateSubject(id: string, updates: Partial<InsertSubject>): Subject | undefined {\n    if (updates.name) {\n      db.prepare('UPDATE subjects SET name = ? WHERE id = ?').run(updates.name, id);\n    }\n    return this.getSubject(id);\n  }\n\n  deleteSubject(id: string): boolean {\n    const result = db.prepare('DELETE FROM subjects WHERE id = ?').run(id);\n    return result.changes > 0;\n  }\n\n  getChaptersBySubject(subjectId: string): Chapter[] {\n    return db.prepare('SELECT * FROM chapters WHERE subjectId = ? ORDER BY orderIndex').all(subjectId) as Chapter[];\n  }\n\n  getChapter(id: string): Chapter | undefined {\n    return db.prepare('SELECT * FROM chapters WHERE id = ?').get(id) as Chapter;\n  }\n\n  createChapter(chapter: InsertChapter): Chapter {\n    const id = randomUUID();\n    db.prepare(`\n      INSERT INTO chapters (id, subjectId, name, orderIndex)\n      VALUES (?, ?, ?, ?)\n    `).run(id, chapter.subjectId, chapter.name, chapter.orderIndex);\n    return this.getChapter(id)!;\n  }\n\n  updateChapter(id: string, updates: Partial<InsertChapter>): Chapter | undefined {\n    const fields: string[] = [];\n    const values: any[] = [];\n    \n    if (updates.name !== undefined) {\n      fields.push('name = ?');\n      values.push(updates.name);\n    }\n    if (updates.orderIndex !== undefined) {\n      fields.push('orderIndex = ?');\n      values.push(updates.orderIndex);\n    }\n    \n    if (fields.length === 0) return this.getChapter(id);\n    \n    values.push(id);\n    db.prepare(`UPDATE chapters SET ${fields.join(', ')} WHERE id = ?`).run(...values);\n    return this.getChapter(id);\n  }\n\n  deleteChapter(id: string): boolean {\n    const result = db.prepare('DELETE FROM chapters WHERE id = ?').run(id);\n    return result.changes > 0;\n  }\n\n  getContentByChapter(chapterId: string): Content[] {\n    return db.prepare('SELECT * FROM content WHERE chapterId = ? ORDER BY orderIndex').all(chapterId) as Content[];\n  }\n\n  getContent(id: string): Content | undefined {\n    return db.prepare('SELECT * FROM content WHERE id = ?').get(id) as Content;\n  }\n\n  createContent(content: InsertContent): Content {\n    const id = randomUUID();\n    db.prepare(`\n      INSERT INTO content (id, chapterId, type, title, url, orderIndex)\n      VALUES (?, ?, ?, ?, ?, ?)\n    `).run(id, content.chapterId, content.type, content.title, content.url || null, content.orderIndex);\n    return this.getContent(id)!;\n  }\n\n  updateContent(id: string, updates: Partial<InsertContent>): Content | undefined {\n    const fields: string[] = [];\n    const values: any[] = [];\n    \n    if (updates.title !== undefined) {\n      fields.push('title = ?');\n      values.push(updates.title);\n    }\n    if (updates.url !== undefined) {\n      fields.push('url = ?');\n      values.push(updates.url);\n    }\n    if (updates.orderIndex !== undefined) {\n      fields.push('orderIndex = ?');\n      values.push(updates.orderIndex);\n    }\n    \n    if (fields.length === 0) return this.getContent(id);\n    \n    values.push(id);\n    db.prepare(`UPDATE content SET ${fields.join(', ')} WHERE id = ?`).run(...values);\n    return this.getContent(id);\n  }\n\n  deleteContent(id: string): boolean {\n    const result = db.prepare('DELETE FROM content WHERE id = ?').run(id);\n    return result.changes > 0;\n  }\n\n  getQuestionsByContent(contentId: string): QuizQuestion[] {\n    return db.prepare('SELECT * FROM quiz_questions WHERE contentId = ? ORDER BY orderIndex').all(contentId) as QuizQuestion[];\n  }\n\n  getQuizQuestion(id: string): QuizQuestion | undefined {\n    return db.prepare('SELECT * FROM quiz_questions WHERE id = ?').get(id) as QuizQuestion | undefined;\n  }\n\n  createQuizQuestion(question: InsertQuizQuestion): QuizQuestion {\n    const id = randomUUID();\n    db.prepare(`\n      INSERT INTO quiz_questions (id, contentId, question, options, correctAnswer, imageUrl, orderIndex)\n      VALUES (?, ?, ?, ?, ?, ?, ?)\n    `).run(id, question.contentId, question.question, question.options, question.correctAnswer, question.imageUrl || null, question.orderIndex);\n    return db.prepare('SELECT * FROM quiz_questions WHERE id = ?').get(id) as QuizQuestion;\n  }\n\n  updateQuizQuestion(id: string, updates: Partial<InsertQuizQuestion>): QuizQuestion | undefined {\n    const fields: string[] = [];\n    const values: any[] = [];\n    \n    if (updates.question !== undefined) {\n      fields.push('question = ?');\n      values.push(updates.question);\n    }\n    if (updates.options !== undefined) {\n      fields.push('options = ?');\n      values.push(updates.options);\n    }\n    if (updates.correctAnswer !== undefined) {\n      fields.push('correctAnswer = ?');\n      values.push(updates.correctAnswer);\n    }\n    if (updates.imageUrl !== undefined) {\n      fields.push('imageUrl = ?');\n      values.push(updates.imageUrl || null);\n    }\n    if (updates.orderIndex !== undefined) {\n      fields.push('orderIndex = ?');\n      values.push(updates.orderIndex);\n    }\n    \n    if (fields.length === 0) return db.prepare('SELECT * FROM quiz_questions WHERE id = ?').get(id) as QuizQuestion;\n    \n    values.push(id);\n    db.prepare(`UPDATE quiz_questions SET ${fields.join(', ')} WHERE id = ?`).run(...values);\n    return db.prepare('SELECT * FROM quiz_questions WHERE id = ?').get(id) as QuizQuestion;\n  }\n\n  deleteQuizQuestion(id: string): boolean {\n    const result = db.prepare('DELETE FROM quiz_questions WHERE id = ?').run(id);\n    return result.changes > 0;\n  }\n\n  getAllResources(): Resource[] {\n    return db.prepare('SELECT * FROM resources ORDER BY title').all() as Resource[];\n  }\n\n  getResource(id: string): Resource | undefined {\n    return db.prepare('SELECT * FROM resources WHERE id = ?').get(id) as Resource | undefined;\n  }\n\n  createResource(resource: InsertResource): Resource {\n    const id = randomUUID();\n    db.prepare(`\n      INSERT INTO resources (id, title, description, url, type, category)\n      VALUES (?, ?, ?, ?, ?, ?)\n    `).run(id, resource.title, resource.description || null, resource.url, resource.type, resource.category || null);\n    return this.getResource(id)!;\n  }\n\n  updateResource(id: string, updates: Partial<InsertResource>): Resource | undefined {\n    const fields: string[] = [];\n    const values: any[] = [];\n    \n    if (updates.title !== undefined) {\n      fields.push('title = ?');\n      values.push(updates.title);\n    }\n    if (updates.description !== undefined) {\n      fields.push('description = ?');\n      values.push(updates.description || null);\n    }\n    if (updates.url !== undefined) {\n      fields.push('url = ?');\n      values.push(updates.url);\n    }\n    if (updates.type !== undefined) {\n      fields.push('type = ?');\n      values.push(updates.type);\n    }\n    if (updates.category !== undefined) {\n      fields.push('category = ?');\n      values.push(updates.category || null);\n    }\n    \n    if (fields.length === 0) return this.getResource(id);\n    \n    values.push(id);\n    db.prepare(`UPDATE resources SET ${fields.join(', ')} WHERE id = ?`).run(...values);\n    return this.getResource(id);\n  }\n\n  deleteResource(id: string): boolean {\n    const result = db.prepare('DELETE FROM resources WHERE id = ?').run(id);\n    return result.changes > 0;\n  }\n}\n\nexport const storage = new SQLiteStorage();\n","size_bytes":11458},"client/src/pages/ChapterContent.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { ArrowLeft } from \"lucide-react\";\nimport ChapterItem from \"@/components/ChapterItem\";\nimport VideoPlayer from \"@/components/VideoPlayer\";\nimport PdfViewer from \"@/components/PdfViewer\";\nimport QuizQuestion from \"@/components/QuizQuestion\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport type { Chapter, Content, QuizQuestion as QuizQuestionType } from \"@shared/schema\";\n\ninterface ParsedQuizQuestion extends Omit<QuizQuestionType, 'options'> {\n  options: string[];\n}\n\ninterface ChapterContentProps {\n  subjectId: string;\n  subjectName: string;\n  onBack: () => void;\n}\n\nexport default function ChapterContent({ subjectId, subjectName, onBack }: ChapterContentProps) {\n  const [selectedChapterId, setSelectedChapterId] = useState<string | null>(null);\n\n  const { data: chapters = [] } = useQuery<Chapter[]>({\n    queryKey: ['/api/subjects', subjectId, 'chapters'],\n    queryFn: async () => {\n      const response = await fetch(`/api/subjects/${subjectId}/chapters`, {\n        credentials: 'include',\n      });\n      if (!response.ok) throw new Error('Failed to fetch chapters');\n      return response.json();\n    },\n  });\n\n  const { data: content = [] } = useQuery<Content[]>({\n    queryKey: ['/api/chapters', selectedChapterId, 'content'],\n    enabled: !!selectedChapterId,\n    queryFn: async () => {\n      const response = await fetch(`/api/chapters/${selectedChapterId}/content`, {\n        credentials: 'include',\n      });\n      if (!response.ok) throw new Error('Failed to fetch content');\n      return response.json();\n    },\n  });\n\n  const videoContent = content.find(c => c.type === 'video');\n  const pdfContent = content.find(c => c.type === 'pdf');\n  const quizContent = content.find(c => c.type === 'quiz');\n\n  const { data: quizQuestions = [] } = useQuery<ParsedQuizQuestion[]>({\n    queryKey: ['/api/content', quizContent?.id, 'questions'],\n    enabled: !!quizContent,\n    queryFn: async () => {\n      const response = await fetch(`/api/content/${quizContent!.id}/questions`, {\n        credentials: 'include',\n      });\n      if (!response.ok) throw new Error('Failed to fetch questions');\n      return response.json();\n    },\n  });\n\n  const selectedChapter = chapters.find(c => c.id === selectedChapterId);\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <header className=\"backdrop-blur-xl bg-white/80 dark:bg-black/40 border-b border-border sticky top-0 z-10\">\n        <div className=\"max-w-7xl mx-auto px-6 py-4\">\n          <Button variant=\"ghost\" onClick={onBack} className=\"mb-3\" data-testid=\"button-back\">\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\n            Back to Subjects\n          </Button>\n          <h1 className=\"text-2xl font-semibold\">{subjectName}</h1>\n        </div>\n      </header>\n\n      <main className=\"max-w-7xl mx-auto px-6 py-8\">\n        {!selectedChapterId ? (\n          <div>\n            <h2 className=\"text-2xl font-semibold mb-6\">Chapters</h2>\n            {chapters.length === 0 ? (\n              <div className=\"text-center text-muted-foreground py-12\">No chapters available yet</div>\n            ) : (\n              <div className=\"space-y-3\">\n                {chapters.map((chapter) => {\n                  const chapterContent = content.filter(c => c.chapterId === chapter.id);\n                  return (\n                    <ChapterItem\n                      key={chapter.id}\n                      id={chapter.id}\n                      name={chapter.name}\n                      hasVideo={chapterContent.some(c => c.type === 'video')}\n                      hasPdf={chapterContent.some(c => c.type === 'pdf')}\n                      hasQuiz={chapterContent.some(c => c.type === 'quiz')}\n                      onClick={() => setSelectedChapterId(chapter.id)}\n                    />\n                  );\n                })}\n              </div>\n            )}\n          </div>\n        ) : (\n          <div>\n            <Button \n              variant=\"ghost\" \n              onClick={() => setSelectedChapterId(null)} \n              className=\"mb-6\"\n              data-testid=\"button-back-to-chapters\"\n            >\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\n              Back to Chapters\n            </Button>\n\n            <h2 className=\"text-2xl font-semibold mb-6\">\n              {selectedChapter?.name}\n            </h2>\n\n            <Tabs defaultValue=\"video\" className=\"w-full\">\n              <TabsList className=\"mb-6\">\n                {videoContent && <TabsTrigger value=\"video\" data-testid=\"tab-video\">Video Lecture</TabsTrigger>}\n                {pdfContent && <TabsTrigger value=\"pdf\" data-testid=\"tab-pdf\">PDF Notes</TabsTrigger>}\n                {quizContent && <TabsTrigger value=\"quiz\" data-testid=\"tab-quiz\">Quiz</TabsTrigger>}\n              </TabsList>\n\n              {videoContent && (\n                <TabsContent value=\"video\" className=\"space-y-6\">\n                  <VideoPlayer\n                    url={videoContent.url || ''}\n                    title={videoContent.title}\n                  />\n                </TabsContent>\n              )}\n\n              {pdfContent && (\n                <TabsContent value=\"pdf\" className=\"space-y-6\">\n                  <PdfViewer\n                    url={pdfContent.url || ''}\n                    title={pdfContent.title}\n                  />\n                </TabsContent>\n              )}\n\n              {quizContent && (\n                <TabsContent value=\"quiz\" className=\"space-y-6\">\n                  {quizQuestions.length === 0 ? (\n                    <div className=\"text-center text-muted-foreground py-12\">No quiz questions available</div>\n                  ) : (\n                    quizQuestions.map((question) => (\n                      <QuizQuestion\n                        key={question.id}\n                        questionId={question.id}\n                        question={question.question}\n                        options={question.options}\n                        imageUrl={question.imageUrl}\n                      />\n                    ))\n                  )}\n                </TabsContent>\n              )}\n            </Tabs>\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n","size_bytes":6330},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","size_bytes":3021},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","size_bytes":1209},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","size_bytes":1056},"client/src/components/ui/sidebar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, VariantProps } from \"class-variance-authority\"\nimport { PanelLeftIcon } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n}) {\n  const isMobile = useIsMobile()\n  const [openMobile, setOpenMobile] = React.useState(false)\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen)\n  const open = openProp ?? _open\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value\n      if (setOpenProp) {\n        setOpenProp(openState)\n      } else {\n        _setOpen(openState)\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n    },\n    [setOpenProp, open]\n  )\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open)\n  }, [isMobile, setOpen, setOpenMobile])\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault()\n        toggleSidebar()\n      }\n    }\n\n    window.addEventListener(\"keydown\", handleKeyDown)\n    return () => window.removeEventListener(\"keydown\", handleKeyDown)\n  }, [toggleSidebar])\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\"\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n  )\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\n            className\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  )\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\"\n  variant?: \"sidebar\" | \"floating\" | \"inset\"\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    )\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    )\n  }\n\n  return (\n    <div\n      className=\"group peer text-sidebar-foreground hidden md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]\"\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar()\n\n  // Note: Tailwind v3.4 doesn't support \"in-\" selectors. So the rail won't work perfectly.\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"bg-background relative flex w-full flex-1 flex-col\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  isActive?: boolean\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\"\n  const { isMobile, state } = useSidebar()\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  )\n\n  if (!tooltip) {\n    return button\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    }\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  )\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean\n  showOnHover?: boolean\n}) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[var(--skeleton-width)] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean\n  size?: \"sm\" | \"md\"\n  isActive?: boolean\n}) {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","size_bytes":21846},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","size_bytes":10481},"client/src/App.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { queryClient, apiRequest } from \"./lib/queryClient\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport LoginForm from \"@/components/LoginForm\";\nimport UserDashboard from \"@/pages/UserDashboard\";\nimport ChapterContent from \"@/pages/ChapterContent\";\nimport AdminDashboard from \"@/pages/AdminDashboard\";\nimport DevToolsProtection from \"@/components/DevToolsProtection\";\n\ntype View = 'login' | 'user-dashboard' | 'chapter-content' | 'admin-dashboard';\n\ninterface CurrentUser {\n  id: string;\n  username: string;\n  isAdmin: boolean;\n  validUntil: string;\n}\n\nfunction App() {\n  const [currentView, setCurrentView] = useState<View>('login');\n  const [selectedSubject, setSelectedSubject] = useState<{ id: string; name: string } | null>(null);\n  const [currentUser, setCurrentUser] = useState<CurrentUser | null>(null);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    async function checkAuth() {\n      try {\n        const response = await fetch('/api/auth/me', {\n          credentials: 'include',\n        });\n        \n        if (response.ok) {\n          const user = await response.json();\n          setCurrentUser(user);\n          setCurrentView(user.isAdmin ? 'admin-dashboard' : 'user-dashboard');\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    checkAuth();\n  }, []);\n\n  const handleLogin = async (username: string, password: string) => {\n    try {\n      const response = await apiRequest('POST', '/api/auth/login', { username, password });\n      const user = await response.json();\n      setCurrentUser(user);\n      setCurrentView(user.isAdmin ? 'admin-dashboard' : 'user-dashboard');\n    } catch (error) {\n      console.error('Login error:', error);\n      alert('Login failed');\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await apiRequest('POST', '/api/auth/logout');\n    } catch (error) {\n      console.error('Logout error:', error);\n    } finally {\n      setCurrentUser(null);\n      setCurrentView('login');\n      setSelectedSubject(null);\n    }\n  };\n\n  const handleSubjectClick = (subjectId: string, subjectName: string) => {\n    setSelectedSubject({ id: subjectId, name: subjectName });\n    setCurrentView('chapter-content');\n  };\n\n  const handleBackToSubjects = () => {\n    setCurrentView('user-dashboard');\n    setSelectedSubject(null);\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-muted-foreground\">Loading...</div>\n      </div>\n    );\n  }\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <DevToolsProtection />\n        \n        {currentView === 'login' && (\n          <LoginForm onLogin={handleLogin} />\n        )}\n\n        {currentView === 'user-dashboard' && (\n          <UserDashboard\n            onSubjectClick={handleSubjectClick}\n            onLogout={handleLogout}\n          />\n        )}\n\n        {currentView === 'chapter-content' && selectedSubject && (\n          <ChapterContent\n            subjectId={selectedSubject.id}\n            subjectName={selectedSubject.name}\n            onBack={handleBackToSubjects}\n          />\n        )}\n\n        {currentView === 'admin-dashboard' && (\n          <AdminDashboard onLogout={handleLogout} />\n        )}\n\n        <Toaster />\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","size_bytes":3637},"shared/schema.ts":{"content":"import { z } from \"zod\";\n\nexport interface User {\n  id: string;\n  username: string;\n  password: string;\n  validUntil: string;\n  isAdmin: boolean;\n}\n\nexport interface Subject {\n  id: string;\n  name: string;\n  chapterCount?: number;\n}\n\nexport interface Chapter {\n  id: string;\n  subjectId: string;\n  name: string;\n  orderIndex: number;\n}\n\nexport interface Content {\n  id: string;\n  chapterId: string;\n  type: 'video' | 'quiz';\n  title: string;\n  url?: string;\n  orderIndex: number;\n}\n\nexport interface QuizQuestion {\n  id: string;\n  contentId: string;\n  question: string;\n  options: string;\n  correctAnswer: number;\n  imageUrl?: string;\n  orderIndex: number;\n}\n\nexport interface Resource {\n  id: string;\n  title: string;\n  description?: string;\n  url: string;\n  type: 'pdf' | 'book' | 'note';\n  category?: string;\n}\n\nexport const insertUserSchema = z.object({\n  username: z.string().min(1),\n  password: z.string().min(1),\n  validUntil: z.string(),\n  isAdmin: z.boolean().default(false),\n});\n\nexport const insertSubjectSchema = z.object({\n  name: z.string().min(1),\n});\n\nexport const insertChapterSchema = z.object({\n  subjectId: z.string(),\n  name: z.string().min(1),\n  orderIndex: z.number().default(0),\n});\n\nexport const insertContentSchema = z.object({\n  chapterId: z.string(),\n  type: z.enum(['video', 'quiz']),\n  title: z.string().min(1),\n  url: z.string().optional(),\n  orderIndex: z.number().default(0),\n});\n\nexport const insertQuizQuestionSchema = z.object({\n  contentId: z.string(),\n  question: z.string().min(1),\n  options: z.string(),\n  correctAnswer: z.number().min(0),\n  imageUrl: z.string().optional(),\n  orderIndex: z.number().default(0),\n});\n\nexport const insertResourceSchema = z.object({\n  title: z.string().min(1),\n  description: z.string().optional(),\n  url: z.string().url(),\n  type: z.enum(['pdf', 'book', 'note']),\n  category: z.string().optional(),\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type InsertSubject = z.infer<typeof insertSubjectSchema>;\nexport type InsertChapter = z.infer<typeof insertChapterSchema>;\nexport type InsertContent = z.infer<typeof insertContentSchema>;\nexport type InsertQuizQuestion = z.infer<typeof insertQuizQuestionSchema>;\nexport type InsertResource = z.infer<typeof insertResourceSchema>;\n","size_bytes":2272},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-destructive\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","size_bytes":4120},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\n\nconst app = express();\n\ndeclare module 'http' {\n  interface IncomingMessage {\n    rawBody: unknown\n  }\n}\napp.use(express.json({\n  verify: (req, _res, buf) => {\n    req.rawBody = buf;\n  }\n}));\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"…\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on the port specified in the environment variable PORT\n  // Other ports are firewalled. Default to 5000 if not specified.\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = parseInt(process.env.PORT || '5000', 10);\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","size_bytes":2210},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","size_bytes":1467},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","size_bytes":80},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","size_bytes":1280},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","size_bytes":261},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","size_bytes":772},"server/routes.ts":{"content":"import type { Express, Request, Response, NextFunction } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport session from \"express-session\";\nimport bcrypt from \"bcryptjs\";\nimport { storage } from \"./storage\";\nimport { z } from \"zod\";\nimport {\n  insertUserSchema,\n  insertSubjectSchema,\n  insertChapterSchema,\n  insertContentSchema,\n  insertQuizQuestionSchema,\n  insertResourceSchema,\n} from \"@shared/schema\";\n\ndeclare module 'express-session' {\n  interface SessionData {\n    userId?: string;\n    isAdmin?: boolean;\n  }\n}\n\nfunction isAuthenticated(req: Request, res: Response, next: NextFunction) {\n  if (!req.session.userId) {\n    return res.status(401).json({ error: 'Not authenticated' });\n  }\n\n  const user = storage.getUser(req.session.userId);\n  if (!user) {\n    req.session.destroy(() => {});\n    return res.status(401).json({ error: 'User not found' });\n  }\n\n  const today = new Date().toISOString().split('T')[0];\n  if (user.validUntil < today) {\n    req.session.destroy(() => {});\n    return res.status(401).json({ error: 'Access expired' });\n  }\n\n  next();\n}\n\nfunction isAdmin(req: Request, res: Response, next: NextFunction) {\n  if (!req.session.isAdmin) {\n    return res.status(403).json({ error: 'Admin access required' });\n  }\n  next();\n}\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  app.use(\n    session({\n      secret: process.env.SESSION_SECRET || 'archer-secret-key-change-in-production',\n      resave: false,\n      saveUninitialized: false,\n      cookie: {\n        httpOnly: true,\n        secure: process.env.NODE_ENV === 'production',\n        maxAge: 24 * 60 * 60 * 1000,\n      },\n    })\n  );\n\n  app.post('/api/auth/login', async (req, res) => {\n    try {\n      const { username, password } = req.body;\n\n      if (!username || !password) {\n        return res.status(400).json({ error: 'Username and password required' });\n      }\n\n      const user = storage.getUserByUsername(username);\n      if (!user) {\n        return res.status(401).json({ error: 'Invalid credentials' });\n      }\n\n      const today = new Date().toISOString().split('T')[0];\n      if (user.validUntil < today) {\n        return res.status(401).json({ error: 'Access expired' });\n      }\n\n      const isValid = await bcrypt.compare(password, user.password);\n      if (!isValid) {\n        return res.status(401).json({ error: 'Invalid credentials' });\n      }\n\n      req.session.userId = user.id;\n      req.session.isAdmin = user.isAdmin;\n\n      res.json({\n        id: user.id,\n        username: user.username,\n        isAdmin: user.isAdmin,\n        validUntil: user.validUntil,\n      });\n    } catch (error) {\n      console.error('Login error:', error);\n      res.status(500).json({ error: 'Login failed' });\n    }\n  });\n\n  app.post('/api/auth/logout', (req, res) => {\n    req.session.destroy(() => {\n      res.json({ success: true });\n    });\n  });\n\n  app.get('/api/auth/me', isAuthenticated, (req, res) => {\n    const user = storage.getUser(req.session.userId!);\n    if (!user) {\n      return res.status(404).json({ error: 'User not found' });\n    }\n\n    res.json({\n      id: user.id,\n      username: user.username,\n      isAdmin: user.isAdmin,\n      validUntil: user.validUntil,\n    });\n  });\n\n  app.get('/api/admin/users', isAuthenticated, isAdmin, (req, res) => {\n    const users = storage.getAllUsers().map(u => ({\n      id: u.id,\n      username: u.username,\n      validUntil: u.validUntil,\n      isAdmin: u.isAdmin,\n    }));\n    res.json(users);\n  });\n\n  app.post('/api/admin/users', isAuthenticated, isAdmin, async (req, res) => {\n    try {\n      const data = insertUserSchema.parse(req.body);\n      const hashedPassword = await bcrypt.hash(data.password, 10);\n      \n      const user = storage.createUser({\n        ...data,\n        password: hashedPassword,\n      });\n\n      res.json({\n        id: user.id,\n        username: user.username,\n        validUntil: user.validUntil,\n        isAdmin: user.isAdmin,\n      });\n    } catch (error: any) {\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  app.delete('/api/admin/users/:id', isAuthenticated, isAdmin, (req, res) => {\n    const user = storage.getUser(req.params.id);\n    if (!user) {\n      return res.status(404).json({ error: 'User not found' });\n    }\n\n    if (user.isAdmin) {\n      return res.status(403).json({ error: 'Cannot delete admin user' });\n    }\n\n    storage.deleteUser(req.params.id);\n    res.json({ success: true });\n  });\n\n  app.put('/api/admin/settings', isAuthenticated, isAdmin, async (req, res) => {\n    try {\n      const { username, currentPassword, newPassword } = req.body;\n      const user = storage.getUser(req.session.userId!);\n\n      if (!user) {\n        return res.status(404).json({ error: 'User not found' });\n      }\n\n      if (newPassword) {\n        if (!currentPassword) {\n          return res.status(400).json({ error: 'Current password required' });\n        }\n\n        const isValid = await bcrypt.compare(currentPassword, user.password);\n        if (!isValid) {\n          return res.status(401).json({ error: 'Invalid current password' });\n        }\n\n        const hashedPassword = await bcrypt.hash(newPassword, 10);\n        storage.updateUser(user.id, {\n          username: username || user.username,\n          password: hashedPassword,\n          validUntil: user.validUntil,\n          isAdmin: user.isAdmin,\n        });\n      } else if (username && username !== user.username) {\n        storage.updateUser(user.id, {\n          username,\n          password: user.password,\n          validUntil: user.validUntil,\n          isAdmin: user.isAdmin,\n        });\n      }\n\n      res.json({ success: true });\n    } catch (error: any) {\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  app.get('/api/admin/subjects', isAuthenticated, isAdmin, (req, res) => {\n    const subjects = storage.getAllSubjects();\n    res.json(subjects);\n  });\n\n  app.post('/api/admin/subjects', isAuthenticated, isAdmin, (req, res) => {\n    try {\n      const data = insertSubjectSchema.parse(req.body);\n      const subject = storage.createSubject(data);\n      res.json(subject);\n    } catch (error: any) {\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  app.delete('/api/admin/subjects/:id', isAuthenticated, isAdmin, (req, res) => {\n    storage.deleteSubject(req.params.id);\n    res.json({ success: true });\n  });\n\n  app.get('/api/admin/subjects/:id/chapters', isAuthenticated, isAdmin, (req, res) => {\n    const chapters = storage.getChaptersBySubject(req.params.id);\n    res.json(chapters);\n  });\n\n  app.post('/api/admin/chapters', isAuthenticated, isAdmin, (req, res) => {\n    try {\n      const data = insertChapterSchema.parse(req.body);\n      const chapter = storage.createChapter(data);\n      res.json(chapter);\n    } catch (error: any) {\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  app.delete('/api/admin/chapters/:id', isAuthenticated, isAdmin, (req, res) => {\n    storage.deleteChapter(req.params.id);\n    res.json({ success: true });\n  });\n\n  app.get('/api/admin/chapters/:id/content', isAuthenticated, isAdmin, (req, res) => {\n    const content = storage.getContentByChapter(req.params.id);\n    res.json(content);\n  });\n\n  app.post('/api/admin/content', isAuthenticated, isAdmin, (req, res) => {\n    try {\n      const data = insertContentSchema.parse(req.body);\n      const content = storage.createContent(data);\n      res.json(content);\n    } catch (error: any) {\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  app.put('/api/admin/content/:id', isAuthenticated, isAdmin, (req, res) => {\n    try {\n      const data = insertContentSchema.partial().parse(req.body);\n      const content = storage.updateContent(req.params.id, data);\n      if (!content) {\n        return res.status(404).json({ error: 'Content not found' });\n      }\n      res.json(content);\n    } catch (error: any) {\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  app.delete('/api/admin/content/:id', isAuthenticated, isAdmin, (req, res) => {\n    storage.deleteContent(req.params.id);\n    res.json({ success: true });\n  });\n\n  app.get('/api/admin/content/:id/questions', isAuthenticated, isAdmin, (req, res) => {\n    const questions = storage.getQuestionsByContent(req.params.id);\n    res.json(questions);\n  });\n\n  app.post('/api/admin/questions', isAuthenticated, isAdmin, (req, res) => {\n    try {\n      const data = insertQuizQuestionSchema.parse(req.body);\n      const question = storage.createQuizQuestion(data);\n      res.json(question);\n    } catch (error: any) {\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  app.put('/api/admin/questions/:id', isAuthenticated, isAdmin, (req, res) => {\n    try {\n      const data = insertQuizQuestionSchema.partial().parse(req.body);\n      const question = storage.updateQuizQuestion(req.params.id, data);\n      if (!question) {\n        return res.status(404).json({ error: 'Question not found' });\n      }\n      res.json(question);\n    } catch (error: any) {\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  app.delete('/api/admin/questions/:id', isAuthenticated, isAdmin, (req, res) => {\n    storage.deleteQuizQuestion(req.params.id);\n    res.json({ success: true });\n  });\n\n  app.get('/api/subjects', isAuthenticated, (req, res) => {\n    const subjects = storage.getAllSubjects();\n    const subjectsWithCounts = subjects.map(subject => {\n      const chapters = storage.getChaptersBySubject(subject.id);\n      return {\n        ...subject,\n        chapterCount: chapters.length\n      };\n    });\n    res.json(subjectsWithCounts);\n  });\n\n  app.get('/api/subjects/:id/chapters', isAuthenticated, (req, res) => {\n    const chapters = storage.getChaptersBySubject(req.params.id);\n    res.json(chapters);\n  });\n\n  app.get('/api/chapters/:id/content', isAuthenticated, (req, res) => {\n    const content = storage.getContentByChapter(req.params.id);\n    res.json(content);\n  });\n\n  app.get('/api/content/:id/questions', isAuthenticated, (req, res) => {\n    const questions = storage.getQuestionsByContent(req.params.id);\n    res.json(questions.map(q => ({\n      ...q,\n      options: JSON.parse(q.options),\n    })));\n  });\n\n  app.post('/api/questions/:id/submit', isAuthenticated, (req, res) => {\n    try {\n      const answerSchema = z.object({\n        answer: z.string().min(1),\n      });\n      \n      const { answer } = answerSchema.parse(req.body);\n      const questionId = req.params.id;\n      \n      const question = storage.getQuizQuestion(questionId);\n      \n      if (!question) {\n        return res.status(404).json({ error: 'Question not found' });\n      }\n      \n      const options = JSON.parse(question.options);\n      const answerIndex = options.indexOf(answer);\n      const isCorrect = answerIndex === question.correctAnswer;\n      \n      res.json({\n        correct: isCorrect,\n        correctAnswer: options[question.correctAnswer],\n      });\n    } catch (error: any) {\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  app.get('/api/admin/resources', isAuthenticated, isAdmin, (req, res) => {\n    const resources = storage.getAllResources();\n    res.json(resources);\n  });\n\n  app.post('/api/admin/resources', isAuthenticated, isAdmin, (req, res) => {\n    try {\n      const data = insertResourceSchema.parse(req.body);\n      const resource = storage.createResource(data);\n      res.json(resource);\n    } catch (error: any) {\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  app.put('/api/admin/resources/:id', isAuthenticated, isAdmin, (req, res) => {\n    try {\n      const data = insertResourceSchema.partial().parse(req.body);\n      const resource = storage.updateResource(req.params.id, data);\n      if (!resource) {\n        return res.status(404).json({ error: 'Resource not found' });\n      }\n      res.json(resource);\n    } catch (error: any) {\n      res.status(400).json({ error: error.message });\n    }\n  });\n\n  app.delete('/api/admin/resources/:id', isAuthenticated, isAdmin, (req, res) => {\n    storage.deleteResource(req.params.id);\n    res.json({ success: true });\n  });\n\n  app.get('/api/resources', isAuthenticated, (req, res) => {\n    const resources = storage.getAllResources();\n    res.json(resources);\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n","size_bytes":12332},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true as const,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","size_bytes":2263},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","size_bytes":3895},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","size_bytes":2751},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","size_bytes":1139},"client/src/components/examples/AdminSidebar.tsx":{"content":"import { useState } from 'react';\nimport AdminSidebar from '../AdminSidebar';\n\nexport default function AdminSidebarExample() {\n  const [activeTab, setActiveTab] = useState('users');\n  \n  return (\n    <AdminSidebar\n      activeTab={activeTab}\n      onTabChange={setActiveTab}\n      onLogout={() => console.log('Logout clicked')}\n    />\n  );\n}\n","size_bytes":342},"client/src/components/VideoPlayer.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\ninterface VideoPlayerProps {\n  url: string;\n  title: string;\n}\n\nexport default function VideoPlayer({ url, title }: VideoPlayerProps) {\n  if (!url) {\n    return (\n      <Card className=\"p-6\">\n        <h3 className=\"text-lg font-semibold mb-4\">{title}</h3>\n        <div \n          className=\"aspect-video bg-muted/30 rounded-lg overflow-hidden flex items-center justify-center\"\n          data-testid=\"video-player\"\n        >\n          <div className=\"flex flex-col items-center gap-3 text-muted-foreground\">\n            <AlertCircle className=\"w-12 h-12\" />\n            <p className=\"text-sm\">No video available</p>\n          </div>\n        </div>\n      </Card>\n    );\n  }\n\n  const getVideoType = (filename: string): string => {\n    const ext = filename.toLowerCase().match(/\\.(mp4|mov|avi|mkv|webm)$/)?.[1];\n    const mimeTypes: Record<string, string> = {\n      'mp4': 'video/mp4',\n      'mov': 'video/quicktime',\n      'avi': 'video/x-msvideo',\n      'mkv': 'video/x-matroska',\n      'webm': 'video/webm',\n    };\n    return mimeTypes[ext || ''] || 'video/mp4';\n  };\n\n  const videoSrc = url;\n  const videoType = getVideoType(url);\n\n  return (\n    <Card className=\"p-6\">\n      <h3 className=\"text-lg font-semibold mb-4\">{title}</h3>\n      <div \n        className=\"aspect-video bg-black rounded-lg overflow-hidden\"\n        onContextMenu={(e) => e.preventDefault()}\n        data-testid=\"video-player\"\n      >\n        <video\n          className=\"w-full h-full\"\n          controls\n          controlsList=\"nodownload\"\n          disablePictureInPicture\n          onContextMenu={(e) => e.preventDefault()}\n          preload=\"metadata\"\n        >\n          <source src={videoSrc} type={videoType} />\n          Your browser does not support the video tag.\n        </video>\n      </div>\n    </Card>\n  );\n}\n","size_bytes":1884},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","size_bytes":710},"client/src/components/examples/QuizQuestion.tsx":{"content":"import QuizQuestion from '../QuizQuestion';\n\nexport default function QuizQuestionExample() {\n  return (\n    <div className=\"p-6 max-w-2xl space-y-6\">\n      <QuizQuestion\n        question=\"What is the value of x in the equation 2x + 5 = 15?\"\n        options={[\"x = 5\", \"x = 10\", \"x = 7.5\", \"x = 2.5\"]}\n        onAnswer={(answer) => console.log('Answer:', answer)}\n      />\n    </div>\n  );\n}\n","size_bytes":390},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","size_bytes":2712},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","size_bytes":1723},"client/src/components/examples/VideoPlayer.tsx":{"content":"import VideoPlayer from '../VideoPlayer';\n\nexport default function VideoPlayerExample() {\n  return (\n    <div className=\"p-6 max-w-4xl\">\n      <VideoPlayer\n        url=\"https://www.youtube.com/watch?v=dQw4w9WgXcQ\"\n        title=\"Introduction to Algebra\"\n      />\n    </div>\n  );\n}\n","size_bytes":281},"client/src/components/QuizQuestion.tsx":{"content":"import { useState } from \"react\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Label } from \"@/components/ui/label\";\nimport { CheckCircle2, XCircle } from \"lucide-react\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\n\ninterface QuizQuestionProps {\n  questionId: string;\n  question: string;\n  options: string[];\n  imageUrl?: string;\n}\n\ninterface SubmitResponse {\n  correct: boolean;\n  correctAnswer: string;\n}\n\nexport default function QuizQuestion({ questionId, question, options, imageUrl }: QuizQuestionProps) {\n  const [selectedOption, setSelectedOption] = useState<string>(\"\");\n  const [result, setResult] = useState<{ correct: boolean; correctAnswer: string } | null>(null);\n\n  const submitMutation = useMutation({\n    mutationFn: async (answer: string) => {\n      const res = await apiRequest('POST', `/api/questions/${questionId}/submit`, { answer });\n      return await res.json() as SubmitResponse;\n    },\n    onSuccess: (data) => {\n      setResult(data);\n    },\n  });\n\n  const handleSubmit = () => {\n    if (selectedOption && !result) {\n      submitMutation.mutate(selectedOption);\n    }\n  };\n\n  const getOptionStyle = (option: string) => {\n    if (!result) return \"flex items-center space-x-3 p-3 rounded-lg hover-elevate border border-border\";\n    \n    if (option === result.correctAnswer) {\n      return \"flex items-center space-x-3 p-3 rounded-lg border-2 border-green-500 bg-green-50 dark:bg-green-950/20\";\n    }\n    \n    if (option === selectedOption && !result.correct) {\n      return \"flex items-center space-x-3 p-3 rounded-lg border-2 border-red-500 bg-red-50 dark:bg-red-950/20\";\n    }\n    \n    return \"flex items-center space-x-3 p-3 rounded-lg border border-border opacity-50\";\n  };\n\n  return (\n    <Card className=\"p-6\" data-testid=\"quiz-question\">\n      <h3 className=\"text-lg font-semibold mb-4\">{question}</h3>\n      \n      {imageUrl && (\n        <div className=\"mb-6 rounded-lg overflow-hidden border border-border\">\n          <img \n            src={imageUrl} \n            alt=\"Question illustration\" \n            className=\"w-full max-h-64 object-contain bg-muted/30\"\n            onContextMenu={(e) => e.preventDefault()}\n          />\n        </div>\n      )}\n\n      <RadioGroup \n        value={selectedOption} \n        onValueChange={setSelectedOption} \n        className=\"space-y-3\"\n        disabled={!!result}\n      >\n        {options.map((option, index) => (\n          <div \n            key={index} \n            className={getOptionStyle(option)}\n            data-testid={`option-${index}`}\n          >\n            <RadioGroupItem value={option} id={`option-${index}`} disabled={!!result} />\n            <Label \n              htmlFor={`option-${index}`} \n              className=\"flex-1 cursor-pointer font-normal flex items-center justify-between\"\n            >\n              <span>{option}</span>\n              {result && option === result.correctAnswer && (\n                <CheckCircle2 className=\"w-5 h-5 text-green-600\" />\n              )}\n              {result && option === selectedOption && !result.correct && (\n                <XCircle className=\"w-5 h-5 text-red-600\" />\n              )}\n            </Label>\n          </div>\n        ))}\n      </RadioGroup>\n\n      {result && (\n        <div className={`mt-4 p-4 rounded-lg ${result.correct ? 'bg-green-50 dark:bg-green-950/20 text-green-800 dark:text-green-200' : 'bg-red-50 dark:bg-red-950/20 text-red-800 dark:text-red-200'}`}>\n          <div className=\"flex items-center gap-2\">\n            {result.correct ? (\n              <>\n                <CheckCircle2 className=\"w-5 h-5\" />\n                <span className=\"font-semibold\">Correct!</span>\n              </>\n            ) : (\n              <>\n                <XCircle className=\"w-5 h-5\" />\n                <span className=\"font-semibold\">Incorrect. The correct answer is: {result.correctAnswer}</span>\n              </>\n            )}\n          </div>\n        </div>\n      )}\n\n      <Button \n        onClick={handleSubmit} \n        disabled={!selectedOption || !!result || submitMutation.isPending}\n        className=\"w-full mt-6\"\n        data-testid=\"button-submit-answer\"\n      >\n        {submitMutation.isPending ? \"Submitting...\" : result ? \"Answered\" : \"Submit Answer\"}\n      </Button>\n    </Card>\n  );\n}\n","size_bytes":4448},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","size_bytes":1883},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","size_bytes":1077},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","size_bytes":8605},"replit.md":{"content":"# Archer Educational Platform\n\n## Overview\n\nArcher is a secure educational platform designed for delivering video lectures, PDFs, and interactive quizzes with view-only access controls. The application features a dual-interface system with distinct user and admin experiences, built with a focus on minimalist design principles and content protection.\n\n**Core Purpose**: Provide time-limited access to educational content with comprehensive administrative controls for managing users, subjects, chapters, and multimedia learning materials.\n\n**Technology Stack**: React + TypeScript frontend, Express backend, SQLite database with session-based authentication.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n\n**Framework**: React 18 with TypeScript, built using Vite for optimal development experience and production builds.\n\n**Rationale**: React provides component reusability and efficient rendering for the card-based UI. TypeScript ensures type safety across the large codebase with complex data structures (users, subjects, chapters, content, quiz questions).\n\n**State Management**: \n- TanStack Query (React Query) for server state management and caching\n- Local component state for UI interactions\n- Session-based authentication state checked on mount\n\n**Design System**:\n- Shadcn UI component library with \"new-york\" style variant\n- Custom Tailwind configuration with monochromatic palette (black, white, grayscale)\n- Glassmorphism effects using backdrop-blur utilities\n- Inter font family from Google Fonts\n- Responsive grid layouts using Tailwind's grid system\n\n**Routing Strategy**: Single-page application with view-based navigation (login, user-dashboard, chapter-content, admin-dashboard) controlled by React state rather than a traditional router.\n\n**Pros**: Simpler state management for small app, no router dependency\n**Cons**: No deep linking, browser back button doesn't work naturally\n\n### Backend Architecture\n\n**Server Framework**: Express.js with TypeScript running on Node.js\n\n**Rationale**: Express provides a minimal, flexible foundation for RESTful APIs. TypeScript extends type safety from frontend to backend, reducing runtime errors.\n\n**API Design**: RESTful endpoints organized by resource:\n- `/api/auth/*` - Authentication (login, logout, session check)\n- `/api/admin/*` - Admin operations (user/subject/chapter/content management)\n- `/api/subjects/*` - Subject and chapter content retrieval\n- `/api/chapters/*` - Chapter content and quiz questions\n\n**Session Management**:\n- express-session middleware with cookie-based sessions\n- Session store uses in-memory storage (default)\n- Sessions include userId and isAdmin flags for authorization\n\n**Middleware Chain**:\n1. JSON body parsing with raw body capture\n2. URL-encoded form parsing\n3. Request logging with timing\n4. Session management\n5. Route handlers with authentication guards\n\n**Authentication Guards**:\n- `isAuthenticated`: Verifies session userId exists and user account is valid/not expired\n- `isAdmin`: Verifies user has admin privileges\n- Validation occurs by checking validUntil date against current date\n\n### Data Storage\n\n**Database**: SQLite with better-sqlite3 driver\n\n**Rationale**: \n- Serverless, zero-configuration database ideal for single-file deployment\n- Synchronous API simplifies code flow compared to async PostgreSQL\n- Sufficient for educational platform with moderate concurrent users\n- Easy backup (single file)\n\n**Schema Design**:\n\n```\nusers (id, username, password, validUntil, isAdmin)\nsubjects (id, name)\nchapters (id, subjectId, name, orderIndex)\ncontent (id, chapterId, type, title, url, orderIndex)\nquiz_questions (id, contentId, question, options, imageUrl, orderIndex)\n```\n\n**Data Access Layer**: Custom storage interface (IStorage) with SQLiteStorage implementation allows potential future database swapping.\n\n**Password Security**: bcryptjs for password hashing with salt rounds.\n\n**Content Types**:\n- Video: Embedded YouTube/external video players\n- PDF: Embedded Google Drive or direct PDF links\n- Quiz: JSON-stored question objects with multiple choice options\n\n**Content Protection**:\n- Context menu disabled on video/PDF viewers\n- iframe-based embedding limits download options\n- URL parameters strip toolbars from PDFs\n- No client-side download buttons\n\n### External Dependencies\n\n**UI Component Libraries**:\n- @radix-ui/* - 20+ headless UI primitives for accessibility\n- class-variance-authority - Type-safe component variant management\n- tailwindcss - Utility-first CSS framework\n- cmdk - Command menu component\n\n**Data Fetching & Forms**:\n- @tanstack/react-query - Server state management with caching\n- @hookform/resolvers - Form validation integration\n- zod - Runtime type validation for API payloads\n\n**Authentication & Security**:\n- express-session - Session management middleware\n- bcryptjs - Password hashing\n- No JWT tokens (session-based auth chosen for simplicity)\n\n**Database & ORM**:\n- better-sqlite3 - Synchronous SQLite bindings\n- drizzle-kit - Database migration tooling (configured but migrations in separate folder)\n- Note: Drizzle ORM is configured (drizzle.config.ts references PostgreSQL) but actual implementation uses raw SQLite queries\n\n**Build Tools**:\n- vite - Frontend build tool and dev server\n- esbuild - Backend bundler for production\n- tsx - TypeScript execution for development\n\n**Development Tools**:\n- @replit/vite-plugin-* - Replit-specific development enhancements\n- Various type definitions (@types/*) for TypeScript support\n\n**Design Assets**:\n- Google Fonts (Inter) - Typography\n- lucide-react - Icon library matching minimalist design\n\n**Notable Architecture Decision**: The drizzle.config.ts file references PostgreSQL and @neondatabase/serverless, but the actual implementation uses SQLite. This suggests either planned migration to PostgreSQL or configuration left from a template. The code agent should be aware that adding PostgreSQL support may be desired in the future.","size_bytes":6028},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-gray-50\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":711},"client/src/pages/UserDashboard.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport SubjectCard from \"@/components/SubjectCard\";\nimport { LogOut } from \"lucide-react\";\nimport type { Subject } from \"@shared/schema\";\n\ninterface UserDashboardProps {\n  onSubjectClick: (subjectId: string, subjectName: string) => void;\n  onLogout: () => void;\n}\n\nexport default function UserDashboard({ onSubjectClick, onLogout }: UserDashboardProps) {\n  const { data: subjects = [], isLoading } = useQuery<Subject[]>({\n    queryKey: ['/api/subjects'],\n  });\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <header className=\"backdrop-blur-xl bg-white/80 dark:bg-black/40 border-b border-border sticky top-0 z-10\">\n        <div className=\"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-2xl font-semibold\">Archer</h1>\n            <p className=\"text-sm text-muted-foreground\">Learning Platform</p>\n          </div>\n          <Button variant=\"ghost\" onClick={onLogout} data-testid=\"button-logout\">\n            <LogOut className=\"w-4 h-4 mr-2\" />\n            Logout\n          </Button>\n        </div>\n      </header>\n\n      <main className=\"max-w-7xl mx-auto px-6 py-8\">\n        <div className=\"mb-8\">\n          <h2 className=\"text-3xl font-semibold mb-2\">My Subjects</h2>\n          <p className=\"text-muted-foreground\">Select a subject to access chapters and content</p>\n        </div>\n\n        {isLoading ? (\n          <div className=\"text-center text-muted-foreground py-12\">Loading subjects...</div>\n        ) : subjects.length === 0 ? (\n          <div className=\"text-center text-muted-foreground py-12\">No subjects available yet</div>\n        ) : (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {subjects.map((subject) => (\n              <SubjectCard\n                key={subject.id}\n                id={subject.id}\n                name={subject.name}\n                chapterCount={subject.chapterCount || 0}\n                onClick={() => onSubjectClick(subject.id, subject.name)}\n              />\n            ))}\n          </div>\n        )}\n      </main>\n    </div>\n  );\n}\n","size_bytes":2209},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","size_bytes":2695},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","size_bytes":325},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","size_bytes":1977},"client/src/components/AdminSettings.tsx":{"content":"import { useState } from \"react\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Save } from \"lucide-react\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nexport default function AdminSettings() {\n  const { toast } = useToast();\n  const [username, setUsername] = useState(\"admin\");\n  const [currentPassword, setCurrentPassword] = useState(\"\");\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n\n  const updateSettingsMutation = useMutation({\n    mutationFn: async (data: { username: string; currentPassword?: string; newPassword?: string }) => {\n      await apiRequest('PUT', '/api/admin/settings', data);\n    },\n    onSuccess: () => {\n      setCurrentPassword(\"\");\n      setNewPassword(\"\");\n      setConfirmPassword(\"\");\n      toast({ title: \"Settings updated successfully\" });\n    },\n    onError: (error: any) => {\n      toast({ \n        title: \"Failed to update settings\", \n        description: error.message,\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const handleSaveSettings = () => {\n    if (newPassword) {\n      if (!currentPassword) {\n        toast({ title: \"Current password is required\", variant: \"destructive\" });\n        return;\n      }\n      if (newPassword !== confirmPassword) {\n        toast({ title: \"Passwords do not match\", variant: \"destructive\" });\n        return;\n      }\n      if (newPassword.length < 6) {\n        toast({ title: \"Password must be at least 6 characters\", variant: \"destructive\" });\n        return;\n      }\n      updateSettingsMutation.mutate({ username, currentPassword, newPassword });\n    } else if (username !== \"admin\") {\n      updateSettingsMutation.mutate({ username });\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <h2 className=\"text-2xl font-semibold\">Admin Settings</h2>\n\n      <Card className=\"p-6 max-w-2xl\">\n        <h3 className=\"text-lg font-semibold mb-6\">Update Admin Credentials</h3>\n        \n        <div className=\"space-y-6\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"admin-username\">Username</Label>\n            <Input\n              id=\"admin-username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              data-testid=\"input-admin-username\"\n            />\n          </div>\n\n          <div className=\"border-t border-border pt-6 space-y-4\">\n            <h4 className=\"font-medium\">Change Password</h4>\n            \n            <div className=\"space-y-2\">\n              <Label htmlFor=\"current-password\">Current Password</Label>\n              <Input\n                id=\"current-password\"\n                type=\"password\"\n                value={currentPassword}\n                onChange={(e) => setCurrentPassword(e.target.value)}\n                placeholder=\"Enter current password\"\n                data-testid=\"input-current-password\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"new-password\">New Password</Label>\n              <Input\n                id=\"new-password\"\n                type=\"password\"\n                value={newPassword}\n                onChange={(e) => setNewPassword(e.target.value)}\n                placeholder=\"Enter new password\"\n                data-testid=\"input-new-password\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"confirm-password\">Confirm New Password</Label>\n              <Input\n                id=\"confirm-password\"\n                type=\"password\"\n                value={confirmPassword}\n                onChange={(e) => setConfirmPassword(e.target.value)}\n                placeholder=\"Confirm new password\"\n                data-testid=\"input-confirm-password\"\n              />\n            </div>\n          </div>\n\n          <Button \n            onClick={handleSaveSettings} \n            className=\"w-full\" \n            disabled={updateSettingsMutation.isPending}\n            data-testid=\"button-save-settings\"\n          >\n            <Save className=\"w-4 h-4 mr-2\" />\n            {updateSettingsMutation.isPending ? 'Saving...' : 'Save Changes'}\n          </Button>\n        </div>\n      </Card>\n    </div>\n  );\n}\n","size_bytes":4460},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n          await import(\"@replit/vite-plugin-dev-banner\").then((m) =>\n            m.devBanner(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","size_bytes":1080},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \".5625rem\", /* 9px */\n        md: \".375rem\", /* 6px */\n        sm: \".1875rem\", /* 3px */\n      },\n      colors: {\n        // Flat / base colors (regular buttons)\n        background: \"hsl(var(--background) / <alpha-value>)\",\n        foreground: \"hsl(var(--foreground) / <alpha-value>)\",\n        border: \"hsl(var(--border) / <alpha-value>)\",\n        input: \"hsl(var(--input) / <alpha-value>)\",\n        card: {\n          DEFAULT: \"hsl(var(--card) / <alpha-value>)\",\n          foreground: \"hsl(var(--card-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--card-border) / <alpha-value>)\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover) / <alpha-value>)\",\n          foreground: \"hsl(var(--popover-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--popover-border) / <alpha-value>)\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--primary-foreground) / <alpha-value>)\",\n          border: \"var(--primary-border)\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary) / <alpha-value>)\",\n          foreground: \"hsl(var(--secondary-foreground) / <alpha-value>)\",\n          border: \"var(--secondary-border)\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted) / <alpha-value>)\",\n          foreground: \"hsl(var(--muted-foreground) / <alpha-value>)\",\n          border: \"var(--muted-border)\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--accent-foreground) / <alpha-value>)\",\n          border: \"var(--accent-border)\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive) / <alpha-value>)\",\n          foreground: \"hsl(var(--destructive-foreground) / <alpha-value>)\",\n          border: \"var(--destructive-border)\",\n        },\n        ring: \"hsl(var(--ring) / <alpha-value>)\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1) / <alpha-value>)\",\n          \"2\": \"hsl(var(--chart-2) / <alpha-value>)\",\n          \"3\": \"hsl(var(--chart-3) / <alpha-value>)\",\n          \"4\": \"hsl(var(--chart-4) / <alpha-value>)\",\n          \"5\": \"hsl(var(--chart-5) / <alpha-value>)\",\n        },\n        sidebar: {\n          ring: \"hsl(var(--sidebar-ring) / <alpha-value>)\",\n          DEFAULT: \"hsl(var(--sidebar) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-foreground) / <alpha-value>)\",\n          border: \"hsl(var(--sidebar-border) / <alpha-value>)\",\n        },\n        \"sidebar-primary\": {\n          DEFAULT: \"hsl(var(--sidebar-primary) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-primary-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-primary-border)\",\n        },\n        \"sidebar-accent\": {\n          DEFAULT: \"hsl(var(--sidebar-accent) / <alpha-value>)\",\n          foreground: \"hsl(var(--sidebar-accent-foreground) / <alpha-value>)\",\n          border: \"var(--sidebar-accent-border)\"\n        },\n        status: {\n          online: \"rgb(34 197 94)\",\n          away: \"rgb(245 158 11)\",\n          busy: \"rgb(239 68 68)\",\n          offline: \"rgb(156 163 175)\",\n        },\n      },\n      fontFamily: {\n        sans: [\"var(--font-sans)\"],\n        serif: [\"var(--font-serif)\"],\n        mono: [\"var(--font-mono)\"],\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","size_bytes":4050},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(`\n      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10\n      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","size_bytes":1592},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","size_bytes":2765},"client/src/components/examples/SubjectManagement.tsx":{"content":"import SubjectManagement from '../SubjectManagement';\n\nexport default function SubjectManagementExample() {\n  return (\n    <div className=\"p-6 max-w-6xl\">\n      <SubjectManagement />\n    </div>\n  );\n}\n","size_bytes":201},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","size_bytes":5741},"client/src/components/ChapterItem.tsx":{"content":"import { Card } from \"@/components/ui/card\";\nimport { FileText, Video, HelpCircle } from \"lucide-react\";\nimport { Badge } from \"@/components/ui/badge\";\n\ninterface ChapterItemProps {\n  id: string;\n  name: string;\n  hasVideo: boolean;\n  hasPdf: boolean;\n  hasQuiz: boolean;\n  onClick: () => void;\n}\n\nexport default function ChapterItem({ name, hasVideo, hasPdf, hasQuiz, onClick }: ChapterItemProps) {\n  return (\n    <Card \n      className=\"p-4 hover-elevate active-elevate-2 cursor-pointer transition-all duration-200\"\n      onClick={onClick}\n      data-testid={`card-chapter-${name.toLowerCase().replace(/\\s+/g, '-')}`}\n    >\n      <div className=\"flex items-center justify-between gap-4\">\n        <h4 className=\"text-base font-medium text-foreground flex-1\">{name}</h4>\n        <div className=\"flex items-center gap-2\">\n          {hasVideo && (\n            <Badge variant=\"secondary\" className=\"gap-1\">\n              <Video className=\"w-3 h-3\" />\n              <span className=\"text-xs\">Video</span>\n            </Badge>\n          )}\n          {hasPdf && (\n            <Badge variant=\"secondary\" className=\"gap-1\">\n              <FileText className=\"w-3 h-3\" />\n              <span className=\"text-xs\">PDF</span>\n            </Badge>\n          )}\n          {hasQuiz && (\n            <Badge variant=\"secondary\" className=\"gap-1\">\n              <HelpCircle className=\"w-3 h-3\" />\n              <span className=\"text-xs\">Quiz</span>\n            </Badge>\n          )}\n        </div>\n      </div>\n    </Card>\n  );\n}\n","size_bytes":1512},"client/src/components/LoginForm.tsx":{"content":"import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Lock } from \"lucide-react\";\n\ninterface LoginFormProps {\n  onLogin: (username: string, password: string) => void;\n}\n\nexport default function LoginForm({ onLogin }: LoginFormProps) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onLogin(username, password);\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-background p-6\">\n      <div className=\"w-full max-w-md\">\n        <div className=\"backdrop-blur-xl bg-white/80 dark:bg-black/40 border border-border rounded-lg p-8 shadow-lg\">\n          <div className=\"flex flex-col items-center mb-8\">\n            <div className=\"w-16 h-16 bg-primary rounded-lg flex items-center justify-center mb-4\">\n              <Lock className=\"w-8 h-8 text-primary-foreground\" />\n            </div>\n            <h1 className=\"text-3xl font-semibold text-foreground\">Archer</h1>\n            <p className=\"text-sm text-muted-foreground mt-2\">Educational Platform</p>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"username\" className=\"text-sm font-medium\">\n                Username\n              </Label>\n              <Input\n                id=\"username\"\n                type=\"text\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                placeholder=\"Enter your username\"\n                required\n                data-testid=\"input-username\"\n                className=\"transition-all duration-200\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"password\" className=\"text-sm font-medium\">\n                Access Key\n              </Label>\n              <Input\n                id=\"password\"\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                placeholder=\"Enter your access key\"\n                required\n                data-testid=\"input-password\"\n                className=\"transition-all duration-200\"\n              />\n            </div>\n\n            <Button\n              type=\"submit\"\n              className=\"w-full\"\n              data-testid=\"button-login\"\n            >\n              Sign In\n            </Button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":2672},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","size_bytes":1642},"client/src/components/AdminSidebar.tsx":{"content":"import { Users, BookOpen, FileText, Settings, LogOut } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface AdminSidebarProps {\n  activeTab: string;\n  onTabChange: (tab: string) => void;\n  onLogout: () => void;\n}\n\nexport default function AdminSidebar({ activeTab, onTabChange, onLogout }: AdminSidebarProps) {\n  const tabs = [\n    { id: 'users', label: 'Users', icon: Users },\n    { id: 'subjects', label: 'Subjects', icon: BookOpen },\n    { id: 'resources', label: 'Resources', icon: FileText },\n    { id: 'settings', label: 'Settings', icon: Settings },\n  ];\n\n  return (\n    <div className=\"w-64 h-screen bg-sidebar border-r border-sidebar-border flex flex-col\">\n      <div className=\"p-6 border-b border-sidebar-border\">\n        <h1 className=\"text-2xl font-semibold text-sidebar-foreground\">Archer</h1>\n        <p className=\"text-sm text-muted-foreground mt-1\">Admin Panel</p>\n      </div>\n\n      <nav className=\"flex-1 p-4 space-y-2\">\n        {tabs.map((tab) => {\n          const Icon = tab.icon;\n          const isActive = activeTab === tab.id;\n          return (\n            <Button\n              key={tab.id}\n              variant={isActive ? \"secondary\" : \"ghost\"}\n              className=\"w-full justify-start gap-3\"\n              onClick={() => onTabChange(tab.id)}\n              data-testid={`button-tab-${tab.id}`}\n            >\n              <Icon className=\"w-4 h-4\" />\n              <span>{tab.label}</span>\n            </Button>\n          );\n        })}\n      </nav>\n\n      <div className=\"p-4 border-t border-sidebar-border\">\n        <Button\n          variant=\"ghost\"\n          className=\"w-full justify-start gap-3\"\n          onClick={onLogout}\n          data-testid=\"button-logout\"\n        >\n          <LogOut className=\"w-4 h-4\" />\n          <span>Logout</span>\n        </Button>\n      </div>\n    </div>\n  );\n}\n","size_bytes":1860},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","size_bytes":5128},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","size_bytes":791},"client/src/components/ResourceManagement.tsx":{"content":"import { useState } from \"react\";\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Card } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Plus, Trash2, Edit } from \"lucide-react\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport type { Resource } from \"@shared/schema\";\n\nconst getResourceLinkText = (type: 'pdf' | 'book' | 'note'): string => {\n  switch (type) {\n    case 'pdf': return 'View PDF';\n    case 'book': return 'View Book';\n    case 'note': return 'View Note';\n  }\n};\n\nexport default function ResourceManagement() {\n  const { toast } = useToast();\n  const [showAddResource, setShowAddResource] = useState(false);\n  const [editingResource, setEditingResource] = useState<Resource | null>(null);\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n  const [type, setType] = useState<'pdf' | 'book' | 'note'>('pdf');\n\n  const { data: resources = [] } = useQuery<Resource[]>({\n    queryKey: ['/api/admin/resources'],\n  });\n\n  const createResourceMutation = useMutation({\n    mutationFn: async (data: { title: string; description: string; url: string; type: string }) => {\n      await apiRequest('POST', '/api/admin/resources', data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/resources'] });\n      resetForm();\n      setShowAddResource(false);\n      toast({ title: \"Resource created successfully\" });\n    },\n    onError: (error: any) => {\n      toast({ \n        title: \"Failed to create resource\", \n        description: error.message,\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const updateResourceMutation = useMutation({\n    mutationFn: async (data: { id: string; title: string; description: string; url: string; type: string }) => {\n      await apiRequest('PUT', `/api/admin/resources/${data.id}`, {\n        title: data.title,\n        description: data.description,\n        url: data.url,\n        type: data.type,\n      });\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/resources'] });\n      resetForm();\n      setEditingResource(null);\n      toast({ title: \"Resource updated successfully\" });\n    },\n    onError: (error: any) => {\n      toast({ \n        title: \"Failed to update resource\", \n        description: error.message,\n        variant: \"destructive\" \n      });\n    },\n  });\n\n  const deleteResourceMutation = useMutation({\n    mutationFn: async (id: string) => {\n      await apiRequest('DELETE', `/api/admin/resources/${id}`);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/resources'] });\n      toast({ title: \"Resource deleted successfully\" });\n    },\n  });\n\n  const resetForm = () => {\n    setTitle(\"\");\n    setDescription(\"\");\n    setUrl(\"\");\n    setType('pdf');\n  };\n\n  const startEdit = (resource: Resource) => {\n    setEditingResource(resource);\n    setTitle(resource.title);\n    setDescription(resource.description || \"\");\n    setUrl(resource.url);\n    setType(resource.type);\n    setShowAddResource(true);\n  };\n\n  const cancelEdit = () => {\n    setEditingResource(null);\n    setShowAddResource(false);\n    resetForm();\n  };\n\n  const handleSubmit = () => {\n    if (!title.trim() || !url.trim()) {\n      toast({ \n        title: \"Validation Error\", \n        description: \"Title and URL are required.\",\n        variant: \"destructive\" \n      });\n      return;\n    }\n\n    if (editingResource) {\n      updateResourceMutation.mutate({ \n        id: editingResource.id, \n        title, \n        description, \n        url, \n        type \n      });\n    } else {\n      createResourceMutation.mutate({ title, description, url, type });\n    }\n  };\n\n  const pdfs = resources.filter(r => r.type === 'pdf');\n  const books = resources.filter(r => r.type === 'book');\n  const notes = resources.filter(r => r.type === 'note');\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-2xl font-semibold\">Resource Management</h2>\n        <Button onClick={() => setShowAddResource(!showAddResource)} data-testid=\"button-add-resource\">\n          <Plus className=\"w-4 h-4 mr-2\" />\n          Add Resource\n        </Button>\n      </div>\n\n      {showAddResource && (\n        <Card className=\"p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">{editingResource ? 'Edit Resource' : 'Add New Resource'}</h3>\n          <div className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"resourceType\">Type</Label>\n              <Select value={type} onValueChange={(v: any) => setType(v)}>\n                <SelectTrigger id=\"resourceType\" data-testid=\"select-resource-type\">\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"pdf\">PDF</SelectItem>\n                  <SelectItem value=\"book\">Book</SelectItem>\n                  <SelectItem value=\"note\">Note</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"resourceTitle\">Title</Label>\n              <Input\n                id=\"resourceTitle\"\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n                placeholder=\"e.g., Calculus Textbook, Important Formulas\"\n                data-testid=\"input-resource-title\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"resourceDescription\">Description (Optional)</Label>\n              <Textarea\n                id=\"resourceDescription\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                placeholder=\"Brief description of the resource\"\n                data-testid=\"input-resource-description\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"resourceUrl\">\n                {type === 'pdf' ? 'PDF URL' : type === 'book' ? 'Book URL' : 'Note URL'}\n              </Label>\n              <Input\n                id=\"resourceUrl\"\n                value={url}\n                onChange={(e) => setUrl(e.target.value)}\n                placeholder={\n                  type === 'pdf' \n                    ? \"https://example.com/document.pdf\" \n                    : type === 'book'\n                    ? \"https://example.com/book.pdf\"\n                    : \"https://example.com/note.pdf\"\n                }\n                data-testid=\"input-resource-url\"\n              />\n              <p className=\"text-xs text-muted-foreground\">\n                Enter a direct link to a {type === 'pdf' ? 'PDF document' : type === 'book' ? 'book PDF file' : 'note PDF file'}\n              </p>\n            </div>\n            <div className=\"flex gap-3\">\n              <Button \n                onClick={handleSubmit} \n                disabled={createResourceMutation.isPending || updateResourceMutation.isPending}\n                data-testid=\"button-save-resource\"\n              >\n                {editingResource ? 'Update' : 'Add'} Resource\n              </Button>\n              <Button variant=\"outline\" onClick={cancelEdit} data-testid=\"button-cancel-resource\">\n                Cancel\n              </Button>\n            </div>\n          </div>\n        </Card>\n      )}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <div className=\"space-y-3\">\n          <h3 className=\"text-xl font-semibold\">PDFs</h3>\n          {pdfs.length === 0 ? (\n            <Card className=\"p-6\">\n              <p className=\"text-muted-foreground text-center\">No PDFs added yet</p>\n            </Card>\n          ) : (\n            pdfs.map((resource) => (\n              <Card key={resource.id} className=\"p-4\" data-testid={`resource-card-${resource.id}`}>\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <h4 className=\"font-medium text-lg\" data-testid={`text-resource-title-${resource.id}`}>\n                      {resource.title}\n                    </h4>\n                    {resource.description && (\n                      <p className=\"text-sm text-muted-foreground mt-1\" data-testid={`text-resource-description-${resource.id}`}>\n                        {resource.description}\n                      </p>\n                    )}\n                    <a \n                      href={resource.url} \n                      target=\"_blank\" \n                      rel=\"noopener noreferrer\"\n                      className=\"text-sm text-primary hover:underline mt-2 inline-block\"\n                      data-testid={`link-resource-url-${resource.id}`}\n                    >\n                      {getResourceLinkText(resource.type)}\n                    </a>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <Button \n                      size=\"sm\" \n                      variant=\"ghost\" \n                      onClick={() => startEdit(resource)}\n                      data-testid={`button-edit-resource-${resource.id}`}\n                    >\n                      <Edit className=\"w-4 h-4\" />\n                    </Button>\n                    <Button \n                      size=\"sm\" \n                      variant=\"ghost\" \n                      onClick={() => deleteResourceMutation.mutate(resource.id)}\n                      data-testid={`button-delete-resource-${resource.id}`}\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </Button>\n                  </div>\n                </div>\n              </Card>\n            ))\n          )}\n        </div>\n\n        <div className=\"space-y-3\">\n          <h3 className=\"text-xl font-semibold\">Books</h3>\n          {books.length === 0 ? (\n            <Card className=\"p-6\">\n              <p className=\"text-muted-foreground text-center\">No books added yet</p>\n            </Card>\n          ) : (\n            books.map((resource) => (\n              <Card key={resource.id} className=\"p-4\" data-testid={`resource-card-${resource.id}`}>\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <h4 className=\"font-medium text-lg\" data-testid={`text-resource-title-${resource.id}`}>\n                      {resource.title}\n                    </h4>\n                    {resource.description && (\n                      <p className=\"text-sm text-muted-foreground mt-1\" data-testid={`text-resource-description-${resource.id}`}>\n                        {resource.description}\n                      </p>\n                    )}\n                    <a \n                      href={resource.url} \n                      target=\"_blank\" \n                      rel=\"noopener noreferrer\"\n                      className=\"text-sm text-primary hover:underline mt-2 inline-block\"\n                      data-testid={`link-resource-url-${resource.id}`}\n                    >\n                      {getResourceLinkText(resource.type)}\n                    </a>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <Button \n                      size=\"sm\" \n                      variant=\"ghost\" \n                      onClick={() => startEdit(resource)}\n                      data-testid={`button-edit-resource-${resource.id}`}\n                    >\n                      <Edit className=\"w-4 h-4\" />\n                    </Button>\n                    <Button \n                      size=\"sm\" \n                      variant=\"ghost\" \n                      onClick={() => deleteResourceMutation.mutate(resource.id)}\n                      data-testid={`button-delete-resource-${resource.id}`}\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </Button>\n                  </div>\n                </div>\n              </Card>\n            ))\n          )}\n        </div>\n\n        <div className=\"space-y-3\">\n          <h3 className=\"text-xl font-semibold\">Notes</h3>\n          {notes.length === 0 ? (\n            <Card className=\"p-6\">\n              <p className=\"text-muted-foreground text-center\">No notes added yet</p>\n            </Card>\n          ) : (\n            notes.map((resource) => (\n              <Card key={resource.id} className=\"p-4\" data-testid={`resource-card-${resource.id}`}>\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <h4 className=\"font-medium text-lg\" data-testid={`text-resource-title-${resource.id}`}>\n                      {resource.title}\n                    </h4>\n                    {resource.description && (\n                      <p className=\"text-sm text-muted-foreground mt-1\" data-testid={`text-resource-description-${resource.id}`}>\n                        {resource.description}\n                      </p>\n                    )}\n                    <a \n                      href={resource.url} \n                      target=\"_blank\" \n                      rel=\"noopener noreferrer\"\n                      className=\"text-sm text-primary hover:underline mt-2 inline-block\"\n                      data-testid={`link-resource-url-${resource.id}`}\n                    >\n                      {getResourceLinkText(resource.type)}\n                    </a>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <Button \n                      size=\"sm\" \n                      variant=\"ghost\" \n                      onClick={() => startEdit(resource)}\n                      data-testid={`button-edit-resource-${resource.id}`}\n                    >\n                      <Edit className=\"w-4 h-4\" />\n                    </Button>\n                    <Button \n                      size=\"sm\" \n                      variant=\"ghost\" \n                      onClick={() => deleteResourceMutation.mutate(resource.id)}\n                      data-testid={`button-delete-resource-${resource.id}`}\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </Button>\n                  </div>\n                </div>\n              </Card>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","size_bytes":14716},"client/src/components/DevToolsProtection.tsx":{"content":"import { useEffect, useState } from \"react\";\n\nexport default function DevToolsProtection() {\n  const [devToolsOpen, setDevToolsOpen] = useState(false);\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (\n        e.key === 'F12' ||\n        e.keyCode === 123 ||\n        (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'i')) ||\n        (e.ctrlKey && e.shiftKey && (e.key === 'J' || e.key === 'j')) ||\n        (e.ctrlKey && e.shiftKey && (e.key === 'C' || e.key === 'c')) ||\n        (e.ctrlKey && (e.key === 'U' || e.key === 'u')) ||\n        (e.metaKey && e.altKey && (e.key === 'I' || e.key === 'i')) ||\n        (e.metaKey && e.altKey && (e.key === 'J' || e.key === 'j')) ||\n        (e.metaKey && e.altKey && (e.key === 'C' || e.key === 'c')) ||\n        (e.metaKey && (e.key === 'U' || e.key === 'u')) ||\n        (e.ctrlKey && e.shiftKey && e.keyCode === 73) ||\n        (e.ctrlKey && e.shiftKey && e.keyCode === 74) ||\n        (e.ctrlKey && e.shiftKey && e.keyCode === 67) ||\n        (e.ctrlKey && e.keyCode === 85)\n      ) {\n        e.preventDefault();\n        e.stopPropagation();\n        setDevToolsOpen(true);\n        return false;\n      }\n    };\n\n    const handleKeyPress = (e: KeyboardEvent) => {\n      if (e.keyCode === 123) {\n        e.preventDefault();\n        setDevToolsOpen(true);\n        return false;\n      }\n    };\n\n    const detectDevTools = () => {\n      const threshold = 160;\n      const widthThreshold = window.outerWidth - window.innerWidth > threshold;\n      const heightThreshold = window.outerHeight - window.innerHeight > threshold;\n      \n      if (widthThreshold || heightThreshold) {\n        setDevToolsOpen(true);\n      }\n    };\n\n    const devToolsChecker = () => {\n      const element = new Image();\n      Object.defineProperty(element, 'id', {\n        get: function() {\n          setDevToolsOpen(true);\n          throw new Error('DevTools detected');\n        }\n      });\n      console.log(element);\n      console.clear();\n    };\n\n    const checkDebugger = () => {\n      const before = new Date().getTime();\n      debugger;\n      const after = new Date().getTime();\n      if (after - before > 100) {\n        setDevToolsOpen(true);\n      }\n    };\n\n    const disableDrag = (e: DragEvent) => {\n      e.preventDefault();\n      return false;\n    };\n\n    const disableCopy = (e: ClipboardEvent) => {\n      e.preventDefault();\n      return false;\n    };\n\n    document.addEventListener('keydown', handleKeyDown, true);\n    document.addEventListener('keypress', handleKeyPress, true);\n    document.addEventListener('dragstart', disableDrag);\n    document.addEventListener('copy', disableCopy);\n    document.addEventListener('cut', disableCopy);\n    \n    const detectInterval = setInterval(detectDevTools, 1000);\n    const debugInterval = setInterval(checkDebugger, 2000);\n    const consoleInterval = setInterval(devToolsChecker, 1000);\n\n    detectDevTools();\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown, true);\n      document.removeEventListener('keypress', handleKeyPress, true);\n      document.removeEventListener('dragstart', disableDrag);\n      document.removeEventListener('copy', disableCopy);\n      document.removeEventListener('cut', disableCopy);\n      clearInterval(detectInterval);\n      clearInterval(debugInterval);\n      clearInterval(consoleInterval);\n    };\n  }, []);\n\n  if (devToolsOpen) {\n    return (\n      <div \n        style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          width: '100%',\n          height: '100%',\n          backgroundColor: '#000',\n          color: '#ff0000',\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          justifyContent: 'center',\n          zIndex: 999999,\n          fontFamily: 'monospace',\n          fontSize: '24px',\n          textAlign: 'center',\n          padding: '20px'\n        }}\n      >\n        <div style={{ fontSize: '48px', marginBottom: '20px' }}>⚠️</div>\n        <div style={{ marginBottom: '10px', fontWeight: 'bold' }}>WARNING</div>\n        <div style={{ fontSize: '18px', maxWidth: '600px' }}>\n          Inspect Element is not allowed on this website.\n          <br /><br />\n          Developer tools have been disabled for security reasons.\n          <br /><br />\n          Please close developer tools and refresh the page.\n        </div>\n      </div>\n    );\n  }\n\n  return null;\n}\n","size_bytes":4424}},"version":2}